(()=>{"use strict";class e{constructor(e,t,n,r){this.templateElement=document.getElementById(e),this.hostElement=document.getElementById(t);const s=document.importNode(this.templateElement.content,!0);this.element=s.firstElementChild,r&&(this.element.id=r),this.attach(n)}attach(e){this.hostElement.insertAdjacentElement(e,this.element)}}function t(e,t,n){const r=n.value;return{configurable:!0,get(){return r.bind(this)}}}function n(e){let t=!0;return e.required&&(t=t&&""!==e.value.toString().trim()),null!=e.minLength&&"string"==typeof e.value&&(t=t&&e.value.toString().length>e.minLength),null!=e.maxLength&&"string"==typeof e.value&&(t=t&&e.value.toString().length<e.maxLength),null!=e.min&&"number"==typeof e.value&&(t=t&&e.value>=e.min),null!=e.max&&"number"==typeof e.value&&(t=t&&e.value<e.max),t}var r;!function(e){e[e.Active=0]="Active",e[e.Finished=1]="Finished"}(r||(r={}));class s{constructor(e,t,n,r,s){this.id=e,this.title=t,this.description=n,this.people=r,this.projectStatus=s}}class i extends class{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}}{constructor(){super(),this.projects=[]}addProject(e,t,n){const i=new s(Math.random().toString(),e,t,n,r.Active);this.projects.push(i),this.updateListeners()}moveProject(e,t){const n=this.projects.find((t=>t.id===e));n&&n.projectStatus&&(n.projectStatus=t,this.updateListeners())}updateListeners(){for(const e of this.listeners)e(this.projects.slice())}static getInstance(){return this.instance||(this.instance=new i),this.instance}}const l=i.getInstance();class o extends e{constructor(){super("project-input","app","afterbegin","user-input"),this.titleInputElement=this.element.querySelector("#title"),console.log(this.titleInputElement.value),this.descriptionInputElement=this.element.querySelector("#description"),this.peopleInputElement=this.element.querySelector("#people"),this.configure()}renderContent(){}configure(){this.element.addEventListener("submit",this.submitHandler)}submitHandler(e){e.preventDefault(),console.log(this.titleInputElement),console.log(this.titleInputElement.value);const t=this.gatherUserInputs();if(Array.isArray(t)){const[e,n,r]=t;console.log(e,n,r,"LINE"),l.addProject(e,n,r),this.clearInputs()}this.clearInputs()}gatherUserInputs(){const e=this.titleInputElement.value,t=this.descriptionInputElement.value,r=+this.peopleInputElement.value,s={value:t,required:!0,minLength:5},i={value:r,required:!0,min:1,max:10};return n({value:e,required:!0,minLength:5})&&n(s)&&n(i)?[e,t,+r]:(alert("Invalid input, please try again."),void console.log("TEST"))}clearInputs(){this.titleInputElement.value="",this.descriptionInputElement.value="",this.peopleInputElement.value=""}}!function(e,t,n,r){var s,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(l=(i<3?s(l):i>3?s(t,n,l):s(t,n))||l);i>3&&l&&Object.defineProperty(t,n,l)}([t],o.prototype,"submitHandler",null);var a=function(e,t,n,r){var s,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(l=(i<3?s(l):i>3?s(t,n,l):s(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};class c extends e{constructor(e,t){super("single-project",e,"beforeend",t.id),this.project=t,this.configure(),this.renderContent()}get persons(){return 1===this.project.people?"One Person Assigned":`${this.project.people} Persons Assigned`}configure(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler)}renderContent(){const{title:e,description:t,people:n}=this.project,r=this.element.querySelector("#title"),s=this.element.querySelector("#people"),i=this.element.querySelector("#description");r.textContent=e,s.textContent=this.persons,console.log(s.textContent),i.textContent=t}dragStartHandler(e){e.dataTransfer.setData("text/plain",this.project.id),e.dataTransfer.effectAllowed="move"}dragEndHandler(e){console.log("DragEnd")}}a([t],c.prototype,"dragStartHandler",null),a([t],c.prototype,"dragEndHandler",null);var d=function(e,t,n,r){var s,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(l=(i<3?s(l):i>3?s(t,n,l):s(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};class p extends e{constructor(e){super("project-list","app","beforeend",`${e}-projects`),this.listType=e,this.assignedProjects=[],this.assignedProjects=[],this.configure(),this.renderContent()}renderProjects(){document.getElementById(`${this.listType}-projects-list`).innerHTML="";for(const e of this.assignedProjects)console.log(e),console.log(this.assignedProjects),new c(`${this.listType}-projects-list`,e)}configure(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler),l.addListener((e=>{const t=e.filter((e=>"finished"===this.listType?e.projectStatus===r.Finished:e.projectStatus===r.Active));this.assignedProjects=t,this.renderProjects()}))}renderContent(){const e=`${this.listType}-projects-list`;console.log(e),this.element.querySelector("ul").id=e,this.element.querySelector("h2").textContent=`${this.listType.toUpperCase()} PROJECTS`}dragOverHandler(e){e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),this.element.querySelector("ul").classList.add("droppable"))}dropHandler(e){const t=e.dataTransfer.getData("text/plain");console.log(e.dataTransfer.getData("text/plain")),l.moveProject(t,"active"===this.listType?r.Active:r.Finished)}dragLeaveHandler(e){this.element.querySelector("ul").classList.remove("droppable")}}d([t],p.prototype,"dragOverHandler",null),d([t],p.prototype,"dropHandler",null),d([t],p.prototype,"dragLeaveHandler",null),new o,new p("active"),new p("finished")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2lELFVBQVVHLE9BQU8sY0F6QjFCLEdBREN6RyxHLG9DQVlELEdBRENBLEcsZ0NBYUQsR0FEQ0EsRyxxQ0Nna0JnQixJQUFJbUQsRUFFQyxJQUFJcUMsRUFBWSxVQUNkLElBQUlBLEVBQVksYSIsInNvdXJjZXMiOlsid2VicGFjazovL25vdm9wcm9qZXRvZXhlbXBsbzIvLi9zcmMvY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9ub3ZvcHJvamV0b2V4ZW1wbG8yLy4vc3JjL2RlY29yYXRvcnMvYXV0b2JpbmQudHMiLCJ3ZWJwYWNrOi8vbm92b3Byb2pldG9leGVtcGxvMi8uL3NyYy91dGlsL3ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vbm92b3Byb2pldG9leGVtcGxvMi8uL3NyYy9tb2RlbHMvZW51bXMmUHJvamVjdENsYXNzLnRzIiwid2VicGFjazovL25vdm9wcm9qZXRvZXhlbXBsbzIvLi9zcmMvc3RhdGUvcHJvamVjdC1zdGF0ZS50cyIsIndlYnBhY2s6Ly9ub3ZvcHJvamV0b2V4ZW1wbG8yLy4vc3JjL2NvbXBvbmVudHMvcHJvamVjdC1pbnB1dC50cyIsIndlYnBhY2s6Ly9ub3ZvcHJvamV0b2V4ZW1wbG8yLy4vc3JjL2NvbXBvbmVudHMvcHJvamVjdC1pdGVtLnRzIiwid2VicGFjazovL25vdm9wcm9qZXRvZXhlbXBsbzIvLi9zcmMvY29tcG9uZW50cy9wcm9qZWN0LWxpc3QudHMiLCJ3ZWJwYWNrOi8vbm92b3Byb2pldG9leGVtcGxvMi8uL3NyYy9hcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG4vLyBuYW1lc3BhY2UgQXBwIHtcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvbmVudDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQsIFUgZXh0ZW5kcyBIVE1MRWxlbWVudD4ge1xyXG4gIC8vLy9jbGFzcyBnZW7DqXJpY2EgKCdUJywgJ1UnKSBxdWUgc2Vyw6EgaW5oZXJpdHRhZGEgcG9yIG5vc3NhcyAnaW50ZXJmYWNlIGNsYXNzZXMnIChjb21vICdQcm9qZWN0SW5wdXQnIGUgJ1Byb2plY3RMaXN0JykuLi4uXHJcblxyXG4gIHRlbXBsYXRlRWxlbWVudDogSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuICBob3N0RWxlbWVudDogVDtcclxuICBlbGVtZW50OiBVO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHRlbXBsYXRlSWQ6IHN0cmluZyxcclxuICAgIGhvc3RFbGVtZW50SWQ6IHN0cmluZyxcclxuICAgIGluc2VydFBvc2l0aW9uOiBcImFmdGVyYmVnaW5cIiB8IFwiYmVmb3JlZW5kXCIsXHJcbiAgICBuZXdFbGVtZW50SWQ/OiBzdHJpbmdcclxuICApIHtcclxuICAgIHRoaXMudGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIHRlbXBsYXRlSWRcclxuICAgICkhIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XHJcbiAgICB0aGlzLmhvc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaG9zdEVsZW1lbnRJZCkhIGFzIFQ7IC8vL3Ryb2NhbW9zICdhcyBIVE1MRGl2RWxlbWVudCcgcG9yICdhcyBUJy4uLlxyXG5cclxuICAgIC8vLy8gZXNzZSBjw7NkaWdvIGRlICdjb252ZXJzw6NvIGRlIHRlbXBsYXRlIGVtIGVsZW1lbnRvcyBodG1sIGRlIHZlcmRhZGUnIHZhaSBmdW5jaW9uYXIgY29tIHRvZGFzIGFzIGNsYXNzZXMgJ2ludGVyZmFjZS91aScgcXVlIGluaGVyaXRhcmVtIGVzc2Egbm9zc2EgY2xhc3MgZ2Vuw6lyaWNhIGRlICdDb21wb25lbnQnLi4uLlxyXG4gICAgY29uc3QgaW1wb3J0ZWROb2RlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShcclxuICAgICAgdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudCxcclxuICAgICAgdHJ1ZVxyXG4gICAgKTtcclxuICAgIHRoaXMuZWxlbWVudCA9IGltcG9ydGVkTm9kZS5maXJzdEVsZW1lbnRDaGlsZCBhcyBVO1xyXG4gICAgLy8gdGhpcy5lbGVtZW50LmlkID0gJ3VzZXItaW5wdXQnO1xyXG5cclxuICAgIGlmIChuZXdFbGVtZW50SWQpIHtcclxuICAgICAgLy8vL21pbmhhIGlkZWlhLi4uLiAtLT4gcHEgZXNzZSAnbmV3RWxlbWVudElkJyDDqSBPUENJT05BTC4uLiAoJ25ld0VsZW1lbnRJZD8nLi4pLi4uXHJcbiAgICAgIHRoaXMuZWxlbWVudC5pZCA9IG5ld0VsZW1lbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmF0dGFjaChpbnNlcnRQb3NpdGlvbik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGF0dGFjaChpbnNlcnRQb3NpdGlvbjogXCJhZnRlcmJlZ2luXCIgfCBcImJlZm9yZWVuZFwiKSB7XHJcbiAgICB0aGlzLmhvc3RFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChpbnNlcnRQb3NpdGlvbiwgdGhpcy5lbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGFic3RyYWN0IGNvbmZpZ3VyZSgpOiB2b2lkOyAvLy9kZWZpbmltb3MgZXNzZXMgbWV0aG9kcyBjb21vICdhYnN0cmFjdCcsIHBxIF9fIFFVRVJFTU9TIF8gUVVFIFNVQSAnQ09OQ1JFVEUgSU1QTEVNRU5UQVRJT04nIHPDsyB2YWkgYWNvbnRlY2VyIG5hcyBDTEFTU0VTIFFVRSBIRVJEQVJFTSBFU1NBIE5PU1NBIENMQVNTIEFCU1RSQVRBIChjw7NkaWdvL2zDs2dpY2EgZGUgbWV0aG9kIGVzcGVjw61maWNvIMOgIGNhZGEgY2xhc3MgcXVlIGluaGVyaXRhKS4uLlxyXG5cclxuICBhYnN0cmFjdCByZW5kZXJDb250ZW50PygpOiB2b2lkO1xyXG59XHJcbiAgLy8gIH0iLCIvLyBuYW1lc3BhY2UgQXBwIHtcclxuIGV4cG9ydCBmdW5jdGlvbiBBdXRvYmluZChfOiBhbnksIF8yOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikge1xyXG4gICAgLy8vLy8gVVNBUkVNT1MgTk9TIE5PU1NPUyBNRVRIT0RTIG5hIG5vc3NhIGNsYXNzLi4uXHJcblxyXG4gICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGFkanVzdGVkRGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yID0ge1xyXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgIGdldCgpIHtcclxuICAgICAgICBjb25zdCBib3VuZEZ1bmN0aW9uID0gb3JpZ2luYWxNZXRob2QuYmluZCh0aGlzKTtcclxuICAgICAgICByZXR1cm4gYm91bmRGdW5jdGlvbjtcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGFkanVzdGVkRGVzY3JpcHRvcjtcclxuICB9XHJcbi8vIH1cclxuIiwiXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmFsaWRhdGFibGUge1xyXG4gIHZhbHVlOiBzdHJpbmcgfCBudW1iZXI7IC8vw6kgbyAnYWN0dWFsIHZhbHVlJyBkZSB1bSBkZXRlcm1pbmFkbyBmaWVsZC5cclxuICAvLyBpbnB1dEZpZWxkOiBzdHJpbmc7XHJcblxyXG4gIHJlcXVpcmVkPzogYm9vbGVhbjsgLy8vc8OjbyBhcyAndmFsaWRhdGlvbiBwcm9wZXJ0aWVzJyBkZSB1bSBkZXRlcm1pbmFkbyBmaWVsZCAocHEgdW0gZmllbGQgTsODTyBQUkVDSVNBIFRFUiBUT0RBUyBFTSBTSS4uLiBhbGd1bnMgZmllbGRzIHBvZGVtIHRlciBzw7MgJ21pbkxlbmd0aCcsIG91dHJvcyBzw7MgJ21pbicgY29tICdyZXF1aXJlZCcsIGV0YyBldGMuLilcclxuICBtaW5MZW5ndGg/OiBudW1iZXI7XHJcbiAgbWF4TGVuZ3RoPzogbnVtYmVyO1xyXG4gIG1pbj86IG51bWJlcjtcclxuICBtYXg/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZSh2YWxpZGF0YWJsZUlucHV0OiBWYWxpZGF0YWJsZSk6IGJvb2xlYW4ge1xyXG4gIGxldCBpc1ZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgaWYgKHZhbGlkYXRhYmxlSW5wdXQucmVxdWlyZWQpIHtcclxuICAgIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkYXRhYmxlSW5wdXQudmFsdWUudG9TdHJpbmcoKS50cmltKCkgIT09IFwiXCI7IC8vLy90YWx2ZXogZXN0YSBleHByZXNzw6NvIHNlamEgdsOhbGlkYSBjb21vIGEgZGUgYmFpeG8sIHRhbWLDqW0uLi5cclxuICAgIC8vIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkYXRhYmxlSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCAhPT0gMDsgLy8vZXN0YSBleHByZXNzw6NvIGZvaSBhIGFkb3RhZGEgcGVsbyBwcm9mZXNzb3IuLi4uXHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICB2YWxpZGF0YWJsZUlucHV0Lm1pbkxlbmd0aCAhPSBudWxsICYmXHJcbiAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICkge1xyXG4gICAgaXNWYWxpZCA9XHJcbiAgICAgIGlzVmFsaWQgJiZcclxuICAgICAgdmFsaWRhdGFibGVJbnB1dC52YWx1ZS50b1N0cmluZygpLmxlbmd0aCA+IHZhbGlkYXRhYmxlSW5wdXQubWluTGVuZ3RoOyAvLy8vY2hlY2sgZGUgTUlOSU1VTSBMRU5HVEguXHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICB2YWxpZGF0YWJsZUlucHV0Lm1heExlbmd0aCAhPSBudWxsICYmXHJcbiAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICkge1xyXG4gICAgaXNWYWxpZCA9XHJcbiAgICAgIGlzVmFsaWQgJiZcclxuICAgICAgdmFsaWRhdGFibGVJbnB1dC52YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IHZhbGlkYXRhYmxlSW5wdXQubWF4TGVuZ3RoOyAvLy8vY2hlY2sgZGUgTUlOSU1VTSBMRU5HVEguXHJcbiAgfVxyXG5cclxuICBpZiAoXHJcbiAgICB2YWxpZGF0YWJsZUlucHV0Lm1pbiAhPSBudWxsICYmXHJcbiAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gXCJudW1iZXJcIlxyXG4gICkge1xyXG4gICAgaXNWYWxpZCA9IGlzVmFsaWQgJiYgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA+PSB2YWxpZGF0YWJsZUlucHV0Lm1pbjtcclxuICB9XHJcblxyXG4gIGlmIChcclxuICAgIHZhbGlkYXRhYmxlSW5wdXQubWF4ICE9IG51bGwgJiZcclxuICAgIHR5cGVvZiB2YWxpZGF0YWJsZUlucHV0LnZhbHVlID09PSBcIm51bWJlclwiXHJcbiAgKSB7XHJcbiAgICBpc1ZhbGlkID0gaXNWYWxpZCAmJiB2YWxpZGF0YWJsZUlucHV0LnZhbHVlIDwgdmFsaWRhdGFibGVJbnB1dC5tYXg7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaXNWYWxpZDtcclxufVxyXG5cclxuXHJcbiIsIlxyXG5cclxuXHJcbmV4cG9ydCBlbnVtIFByb2plY3RTdGF0dXMgeyAvLy91c2FkbyBwYXJhICdFQ09OT01JWkFSIEPDk0RJR08nIChwYXNzYW1vcyAwIGUgMSBlbSB2ZXogZGFxdWVsYXMgc3RyaW5ncyBhbGkpLi4uXHJcbiAgICBBY3RpdmUsIC8vLzBcclxuICAgIEZpbmlzaGVkIC8vLy8xXHJcbiAgfVxyXG4gIFxyXG4gIFxyXG4gIFxyXG4gIGV4cG9ydCBjbGFzcyBQcm9qZWN0IHsgXHJcbiAgXHJcbiAgICBjb25zdHJ1Y3RvciggXHJcbiAgICAgIHB1YmxpYyBpZDogc3RyaW5nLCBcclxuICAgICAgcHVibGljIHRpdGxlOiBzdHJpbmcsIFxyXG4gICAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZywgXHJcbiAgICAgIHB1YmxpYyBwZW9wbGU6IG51bWJlciwgXHJcbiAgICAgIHB1YmxpYyBwcm9qZWN0U3RhdHVzOiBQcm9qZWN0U3RhdHVzIFxyXG4gICAgICAgKSB7XHJcbiAgXHJcbiAgICAgIH1cclxuICBcclxuICB9XHJcbiAgXHJcbiAgICIsIlxyXG5cclxudHlwZSBMaXN0ZW5lcjxUPiA9IChpdGVtczogVFtdKSA9PiB2b2lkOyAvLy8vdHlwZSBHRU7DiVJJQ08uLi5cclxuXHJcblxyXG5pbXBvcnQgeyBQcm9qZWN0LCBQcm9qZWN0U3RhdHVzIH0gZnJvbSAnLi4vbW9kZWxzL2VudW1zJlByb2plY3RDbGFzcyc7XHJcblxyXG5cclxuXHJcblxyXG5jbGFzcyBTdGF0ZTxUPiB7IFxyXG4gcHJvdGVjdGVkIGxpc3RlbmVyczogTGlzdGVuZXI8VD5bXSA9IFtdOyAgLy8vdXNhbW9zICdwcm90ZWN0ZWQnIHBxIHF1ZXJlbW9zIHF1ZSBlc3NhIHByb3ByaWVkYWRlIHNlamEgdXNhZGEgbmFzIElOSEVSSVRJTkcgQ0xBU1NFUy4uLiAoY29tbyBlbSAnUHJvamVjdFN0YXRlJy4uLilcclxuXHJcbiAgYWRkTGlzdGVuZXIobGlzdGVuZXJGdW5jdGlvbjogTGlzdGVuZXI8VD4pIHsgLy9mb3J3YXJkIGRvICdUJyBlbSAnU3RhdGUnLi4uXHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyRnVuY3Rpb24pO1xyXG4gIH1cclxuXHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3RTdGF0ZSBleHRlbmRzIFN0YXRlPFByb2plY3Q+IHtcclxuICBwcml2YXRlIHByb2plY3RzOiBQcm9qZWN0W10gPSBbXTsgLy8vbyB0eXBlIHNlcsOhIG5vc3NhIENMQVNTIERFICdQcm9qZWN0JywgZW0gMSBhcnJheSBkZXNzZSB0aXBvIGRlIG9iamVjdC4uLlxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogUHJvamVjdFN0YXRlOyAvL0VJUyBPIEPDk0RJR08gRU0gUVVFU1TDg08uIFNJTkdMRVRPTiBQQVRURVJOLi4uXHJcblxyXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvL3ZhbW9zIHF1ZXJlciBxdWUgZXNzZSBjb25zdHJ1Y3RvciBzZWphICdwcml2YXRlJyBwb3IgY2F1c2EgZG8gU0lOR0xFVE9OIFBBVFRFUk4gKHF1ZXJlbW9zIHF1ZSBTw5MgUE9TU0EgU0VSIENSSUFETyAxIE9CSkVDVCwgYSBwYXJ0aXIgZGVzc2EgY2xhc3MsIFBPUiBNRUlPIERFIFVNIE1FVEhPRCBJTlRFUk5PIEEgRVNTQSBDTEFTUy4uKVxyXG5cclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBhZGRQcm9qZWN0KHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIG51bU9mUGVvcGxlOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgUHJvamVjdChcclxuICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygpLFxyXG4gICAgICB0aXRsZSxcclxuICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgIG51bU9mUGVvcGxlLFxyXG4gICAgICBQcm9qZWN0U3RhdHVzLkFjdGl2ZVxyXG4gICAgKTsgLy8vLy8vL09VIFNFSkEsIGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIHBlb3BsZSwgUHJvamVjdFN0YXR1cyAoZW51bSBkZSAwIGUgMSwgYWN0aXZlIGUgZmluaXNoZWQpLi4uLlxyXG5cclxuICAgIHRoaXMucHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgbW92ZVByb2plY3QocHJvamVjdElkOiBzdHJpbmcsIG5ld1N0YXR1czogUHJvamVjdFN0YXR1cykge1xyXG4gICAgLy8vVkVSU8ODTyBETyBQUk9GRVNTT1IuLi5cclxuXHJcbiAgICBjb25zdCBwcm9qZWN0VG9Nb3ZlID0gdGhpcy5wcm9qZWN0cy5maW5kKChwcm9qZWN0KSA9PiB7XHJcbiAgICAgIHJldHVybiBwcm9qZWN0LmlkID09PSBwcm9qZWN0SWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocHJvamVjdFRvTW92ZSAmJiBwcm9qZWN0VG9Nb3ZlLnByb2plY3RTdGF0dXMpIHtcclxuICAgICAgcHJvamVjdFRvTW92ZS5wcm9qZWN0U3RhdHVzID0gbmV3U3RhdHVzOyAvLy92YWkgdHJvY2FyIGEgJ2xpc3QnIGVtIHF1ZSBlc3TDoSBvIG9iamVjdC4uLlxyXG4gICAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVMaXN0ZW5lcnMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyRnVuY3Rpb24gb2YgdGhpcy5saXN0ZW5lcnMpIHtcclxuICAgICAgbGlzdGVuZXJGdW5jdGlvbih0aGlzLnByb2plY3RzLnNsaWNlKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEluc3RhbmNlKCkge1xyXG4gICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7IC8vLy8vVkFJIE1BTlRFUiBOT1NTTyAnT0JKRUNUJy9pbnN0YW5jZSBkZSBub3NzYSBjbGFzcyBfXyBJTlRBQ1RBXy4uLi4gKFNlbSBtdWRhbsOnYSkuLi5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmluc3RhbmNlID0gbmV3IFByb2plY3RTdGF0ZSgpO1xyXG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJvamVjdFN0YXRlID0gUHJvamVjdFN0YXRlLmdldEluc3RhbmNlKCk7XHJcblxyXG5cclxuXHJcbiIsIi8vIC88cmVmZXJlbmNlIHBhdGg9XCIuL2Jhc2UtY29tcG9uZW50LnRzXCIgLz5cclxuLy8gLzxyZWZlcmVuY2UgcGF0aD1cIi4uL2RlY29yYXRvcnMvYXV0b2JpbmQudHNcIiAvPlxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi4vdXRpbC92YWxpZGF0aW9uLnRzXCIvPlxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3RhdGUvcHJvamVjdC1zdGF0ZS50c1wiLz5cclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvYmFzZS1jb21wb25lbnQnO1xyXG5cclxuXHJcblxyXG5pbXBvcnQgeyBBdXRvYmluZCB9IGZyb20gJy4uL2RlY29yYXRvcnMvYXV0b2JpbmQnO1xyXG5cclxuXHJcbmltcG9ydCB7IFZhbGlkYXRhYmxlLCB2YWxpZGF0ZSB9IGZyb20gJy4uL3V0aWwvdmFsaWRhdGlvbic7XHJcblxyXG5pbXBvcnQgeyBQcm9qZWN0U3RhdGUsIHByb2plY3RTdGF0ZSB9IGZyb20gJy4uL3N0YXRlL3Byb2plY3Qtc3RhdGUnO1xyXG5cclxuXHJcbi8vIG5hbWVzcGFjZSBBcHAge1xyXG4gIGV4cG9ydCBjbGFzcyBQcm9qZWN0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQ8SFRNTERpdkVsZW1lbnQsIEhUTUxGb3JtRWxlbWVudD4ge1xyXG4gICAgdGl0bGVJbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQ7IC8vL0lOUFVUIEZJRUxEUyBEQSBGT1JNLi4uXHJcbiAgICBkZXNjcmlwdGlvbklucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcclxuICAgIHBlb3BsZUlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgc3VwZXIoXCJwcm9qZWN0LWlucHV0XCIsIFwiYXBwXCIsIFwiYWZ0ZXJiZWdpblwiLCBcInVzZXItaW5wdXRcIik7XHJcblxyXG4gICAgICB0aGlzLnRpdGxlSW5wdXRFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIjdGl0bGVcIlxyXG4gICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGl0bGVJbnB1dEVsZW1lbnQudmFsdWUpO1xyXG4gICAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXRFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIjZGVzY3JpcHRpb25cIlxyXG4gICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7IC8vRUlTIE8gQ8OTRElHTyBFTSBRVUVTVMODTy5cclxuICAgICAgdGhpcy5wZW9wbGVJbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgICBcIiNwZW9wbGVcIlxyXG4gICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNvbnRlbnQoKSB7fVxyXG5cclxuICAgIGNvbmZpZ3VyZSgpIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgXCJzdWJtaXRcIixcclxuXHJcbiAgICAgICAgdGhpcy5zdWJtaXRIYW5kbGVyXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgQEF1dG9iaW5kXHJcbiAgICBwcml2YXRlIHN1Ym1pdEhhbmRsZXIoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAgIC8vL3ZhaSBzZXIgdXNhZG8gbm8gbm9zc28gZXZlbnRMaXN0ZW5lciwgcG9yIGlzc28gZXNzZSBwYXLDom1ldHJvIGRlICdldmVudCcsIGRlIHR5cGUgJ0V2ZW50Jy4uICAtLS0+IC8vL3Byb3ByaWVkYWRlIGFwZW5hcyBjYXBheiBkZSBzZXIgYWNlc3NhZGEgcG9yIEVYRUNVw4fDlUVTIERFTlRSTyBERSBOT1NTQSBDTEFTUy4uLiAob3UgZGVudHJvIGRvIG9iamVjdCkgLS0+IHZvY8OKIHPDsyBuw6NvIHBvZGUgdXNhciBBIERPVCBOT1RBVElPTiwgbm8gbGFkbyBkZSBmb3JhLCBtZXNtby4uLlxyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc29sZS5sb2codGhpcy50aXRsZUlucHV0RWxlbWVudCk7IC8vIHNlIGNoYW1hbW9zICdzb2x0bycgYXNzaW0sIGNvbSBlc3NlICd0aGlzJywgdmFtb3MgY29uc2VndWlyIF9fICdVTkRFRklORUQnLCByZXN1bHRhbmRvIGVtIHVtIGVycm8uLi4gLlxyXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnRpdGxlSW5wdXRFbGVtZW50LnZhbHVlKTsgLy8vIC0tPiBwYXJhIGNvbnNlcnRhciBlc3NlIGNvbXBvcnRhbWVudG8sIHByZWNpc21hb3MgYmluZGFyIGEgJ3RoaXMnIGtleXdvcmQgYSBub3NzYSBjbGFzcyBkZSAnUHJvamVjdElucHV0Jy4uLlxyXG4gICAgICBjb25zdCB1c2VySW5wdXQgPSB0aGlzLmdhdGhlclVzZXJJbnB1dHMoKTtcclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXNlcklucHV0KSkge1xyXG4gICAgICAgIGNvbnN0IFt0aXRsZSwgZGVzYywgcGVvcGxlXSA9IHVzZXJJbnB1dDsgLy92YW1vcyBmYXplciBhbGdvIGNvbSBlc3NlIGlucHV0IGHDrSwgZXh0cmHDrWRvIHBvciBtZWlvIGRvIGFycmF5IGRlc3RydWN0dXJpbmcuLi5cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGl0bGUsIGRlc2MsIHBlb3BsZSwgXCJMSU5FXCIpO1xyXG4gICAgICAgIHByb2plY3RTdGF0ZS5hZGRQcm9qZWN0KHRpdGxlLCBkZXNjLCBwZW9wbGUpO1xyXG5cclxuICAgICAgICAvLyBjb25zdCBwcm9qZWN0U3RhdGUgPSBuZXcgUHJvamVjdFN0YXRlKCk7IC8vc2luZ2xldG9uIFBBVFRFUk4gIGUgJ3ByaXZhdGUgY29uc3RydWN0b3InLi4uXHJcbiAgICAgICAgdGhpcy5jbGVhcklucHV0cygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmNsZWFySW5wdXRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnYXRoZXJVc2VySW5wdXRzKCk6IFtzdHJpbmcsIHN0cmluZywgbnVtYmVyXSB8IHZvaWQge1xyXG4gICAgICBjb25zdCBlbnRlcmVkVGl0bGUgPSB0aGlzLnRpdGxlSW5wdXRFbGVtZW50LnZhbHVlO1xyXG4gICAgICBjb25zdCBlbnRlcmVkRGVzY3JpcHRpb24gPSB0aGlzLmRlc2NyaXB0aW9uSW5wdXRFbGVtZW50LnZhbHVlO1xyXG4gICAgICBjb25zdCBlbnRlcmVkUGVvcGxlID0gK3RoaXMucGVvcGxlSW5wdXRFbGVtZW50LnZhbHVlO1xyXG5cclxuICAgICAgY29uc3QgdGl0bGVWYWxpZGF0YWJsZTogVmFsaWRhdGFibGUgPSB7XHJcbiAgICAgICAgdmFsdWU6IGVudGVyZWRUaXRsZSxcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBtaW5MZW5ndGg6IDUsIC8vL2zDs2dpY2EgZGUgdmFsaWRhdGlvbiwgZXRjLi4uLlxyXG4gICAgICB9O1xyXG5cclxuICAgICAgY29uc3QgZGVzY3JpcHRpb25WYWxpZGF0YWJsZTogVmFsaWRhdGFibGUgPSB7XHJcbiAgICAgICAgdmFsdWU6IGVudGVyZWREZXNjcmlwdGlvbixcclxuICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICBtaW5MZW5ndGg6IDUsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBjb25zdCBwZW9wbGVWYWxpZGF0YWJsZTogVmFsaWRhdGFibGUgPSB7XHJcbiAgICAgICAgdmFsdWU6IGVudGVyZWRQZW9wbGUsXHJcbiAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgbWluOiAxLFxyXG4gICAgICAgIG1heDogMTAsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXZhbGlkYXRlKHRpdGxlVmFsaWRhdGFibGUpIHx8XHJcbiAgICAgICAgIXZhbGlkYXRlKGRlc2NyaXB0aW9uVmFsaWRhdGFibGUpIHx8XHJcbiAgICAgICAgIXZhbGlkYXRlKHBlb3BsZVZhbGlkYXRhYmxlKVxyXG4gICAgICApIHtcclxuICAgICAgICBhbGVydChcIkludmFsaWQgaW5wdXQsIHBsZWFzZSB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVEVTVFwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFtlbnRlcmVkVGl0bGUsIGVudGVyZWREZXNjcmlwdGlvbiwgK2VudGVyZWRQZW9wbGVdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGVhcklucHV0cygpIHtcclxuICAgICAgdGhpcy50aXRsZUlucHV0RWxlbWVudC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dEVsZW1lbnQudmFsdWUgPSBcIlwiO1xyXG4gICAgICB0aGlzLnBlb3BsZUlucHV0RWxlbWVudC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfVxyXG4vLyB9XHJcbiIsIi8vIC8vLzxyZWZlcmVuY2UgcGF0aD1cIi4vYmFzZS1jb21wb25lbnQudHNcIiAvPlxyXG4vLyAvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi9kZWNvcmF0b3JzL2F1dG9iaW5kLnRzXCIvPlxyXG4vLyAvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi9tb2RlbHMvZW51bXMmUHJvamVjdENsYXNzLnRzXCIvPlxyXG4vLyAvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi9jb21wb25lbnRzL3Byb2plY3QtbGlzdC50c1wiLz5cclxuXHJcblxyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudCc7XHJcblxyXG5cclxuaW1wb3J0IHsgRHJhZ2dhYmxlIH0gZnJvbSAnLi4vbW9kZWxzL2RyYWctZHJvcC1pbnRlcmZhY2VzJztcclxuXHJcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tICcuLi9tb2RlbHMvZW51bXMmUHJvamVjdENsYXNzJztcclxuXHJcbmltcG9ydCB7IEF1dG9iaW5kIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy9hdXRvYmluZCc7XHJcblxyXG4vLyBuYW1lc3BhY2UgQXBwIHtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0SXRlbVxyXG4gIGV4dGVuZHMgQ29tcG9uZW50PEhUTUxVTGlzdEVsZW1lbnQsIEhUTUxMSUVsZW1lbnQ+XHJcbiAgLy8vYXTDqSBub3Nzb3MgcHJvamVjdEl0ZW0gdmFvIHVzYXIgYSAnYmFzZS1jbGFzcycgZGUgJ0NvbXBvbmVudCcgY29tbyBCQVNFLCBwcSBfXyBlbGVzIHRhbWLDqW0gc8OjbyAncGFydGUgZGEgVUknLi4uXHJcbiAgaW1wbGVtZW50cyBEcmFnZ2FibGVcclxue1xyXG4gIHByaXZhdGUgcHJvamVjdDogUHJvamVjdDsgLy8vLy90eXBlIGRlICdQcm9qZWN0JywgdHlwZSBRVUUgTsOTUyBNRVNNT1MgQ1LDjUFNT1MuLi5cclxuXHJcbiAgZ2V0IHBlcnNvbnMoKSB7XHJcbiAgICAvLy9nZXR0ZXIgcGFyYSBSRVRPUk5BUiBVTSBWQUxPUiBGT1JNQVRBRE8gQURFUVVBREFNRU5URSBERSAncGVyc29ucycgKG9uZSBwZXJzb24gYXNzaWduZWQsIHR3byBwZXJzb25zIGFzc2lnbmVkLCBldGMpLi4uLlxyXG5cclxuICAgIGlmICh0aGlzLnByb2plY3QucGVvcGxlID09PSAxKSB7XHJcbiAgICAgIHJldHVybiBcIk9uZSBQZXJzb24gQXNzaWduZWRcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBgJHt0aGlzLnByb2plY3QucGVvcGxlfSBQZXJzb25zIEFzc2lnbmVkYDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKGhvc3RJZDogc3RyaW5nLCBwcm9qZWN0OiBQcm9qZWN0KSB7XHJcbiAgICBzdXBlcihcclxuICAgICAgLy8vLy8vLy8vLy8vLy8vLyB0ZW1wbGF0ZUlkOiBzdHJpbmcsIGhvc3RFbGVtZW50SWQ6IHN0cmluZywgaW5zZXJ0UG9zaXRpb246IFwiYWZ0ZXJiZWdpblwiIHwgXCJiZWZvcmVlbmRcIiwgbmV3RWxlbWVudElkPzogc3RyaW5nIHwgdW5kZWZpbmVkXHJcblxyXG4gICAgICBcInNpbmdsZS1wcm9qZWN0XCIsIC8vL2NoZWNhciAnaW5kZXguaHRtbCcsIG5hIHBhcnRlIGVtIHF1ZSBleGlzdGUgbm9zc28gdGVtcGxhdGUgY29tIGlkIGRlICdzaW5nbGUtcHJvamVjdCcgKHRlbXBsYXRlIHF1ZSDDqSB1bSB0ZW1wbGF0ZSBkZSBBUEVOQVMgMSAnPGxpPicuLi4pXHJcbiAgICAgIGhvc3RJZCwgLy8vL2xvY2FsIGVtIHF1ZSBRVUVSRU1PUyBRVUUgU0VKQSBSRU5ERVJJWkFETyBOT1NTTyAnUFJPSkVDVElURU0nIChlbSBxdWFsIGxpc3QsIHBhcmEgc2VyIG1haXMgZXhhdG8pLi4uLixcclxuICAgICAgXCJiZWZvcmVlbmRcIiwgLy9xdWVyZW1vcyBxdWUgbyBlbGVtZW50byBzZWphIHBvc2ljaW9uYWRvIEFPIEZJTkFMIERBIExJU1QuLi5cclxuXHJcbiAgICAgIHByb2plY3QuaWQgLy8vcmVwYXNzZSBkYXF1ZWxlIHBhcsOibWV0cm8gYWxpLCBubyBDT05TVFJVQ1RPUiwgcXVlIHJlY2ViZXJlbW9zIERFIEZPUkEuLi4uXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XHJcblxyXG4gICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgIHRoaXMucmVuZGVyQ29udGVudCgpO1xyXG4gIH1cclxuXHJcbiAgY29uZmlndXJlKCkge1xyXG4gICAgLy8vZGVmaW5lIG9zIGxpc3RlbmVycyBwYXJhIG8gY29tcG9ydGFtZW50byBkZSAnZHJhZyBhbmQgZHJvcCcuLi5cclxuXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCB0aGlzLmRyYWdTdGFydEhhbmRsZXIpOyAvLy8vb2JzOjo6IHBhcmEgYXRpdmFyIE8gRFJBRyBBTkQgRFJPUCwgVk9Dw4ogVEFNQsOJTSBQUkVDSVNBIElSIEzDgSBOTyBJTkRFWC5IVE1MIGUgY29sb2Nhciwgbm8gZWxlbWVudG8gcXVlIGRldmUgc2VyIGRyYWdnYWJsZSwgJ2RyYWdnYWJsZT0gdHJ1ZScgKG5vIGNhc28sIHNlcsOhIG8gZWxlbWVudCAnbGknICkuLi4uXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgdGhpcy5kcmFnRW5kSGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJDb250ZW50KCkge1xyXG4gICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIHBlb3BsZSB9ID0gdGhpcy5wcm9qZWN0O1xyXG5cclxuICAgIGNvbnN0IHByb2plY3RJdGVtVGl0bGUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKSE7XHJcbiAgICBjb25zdCBwcm9qZWN0SXRlbVBlb3BsZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIiNwZW9wbGVcIlxyXG4gICAgKSEgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBjb25zdCBwcm9qZWN0SXRlbURlc2NyaXB0aW9uID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI2Rlc2NyaXB0aW9uXCJcclxuICAgICkgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcblxyXG4gICAgcHJvamVjdEl0ZW1UaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gICAgLy8gcHJvamVjdEl0ZW1QZW9wbGUudGV4dENvbnRlbnQgPSBwZW9wbGUudG9TdHJpbmcoKTsgLy8vL3NlbSB1c28gZGUgR0VUVEVSLi4uXHJcbiAgICBwcm9qZWN0SXRlbVBlb3BsZS50ZXh0Q29udGVudCA9IHRoaXMucGVyc29uczsgLy8vQ09NIHVzbyBkZSBHRVRURVIuLi5cclxuXHJcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0SXRlbVBlb3BsZS50ZXh0Q29udGVudCk7XHJcbiAgICBwcm9qZWN0SXRlbURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgfVxyXG5cclxuICBAQXV0b2JpbmQgLy8vL2NvbnNlcnRhIG8gY29tcG9ydGFtZW50byBkZSAndGhpcycgbm8gbm9zc28gTElTVEVORVIgZW0gJ2NvbmZpZ3VyZSgpJy4uLiAoZXhhdGFtZW50ZSBjb21vIGZpemVtb3MgY29tICdzdWJtaXRIYW5kbGVyJykuLi4uXHJcbiAgZHJhZ1N0YXJ0SGFuZGxlcihldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XHJcbiAgICAvLy8vaXNzbyBwb3Igc2kgc8OzIG7Do28gdmFpIGZhemVyICdsaXN0ZW4gdG8gYSBkcmFnIGV2ZW50Jy4uLiAtLT4gcHJlY2lzYW1vcyBkbyBtZXRob2QgZGUgJ2NvbmZpZ3VyZSgpJyBwYXJhIGlzc28uLi5cclxuICAgIGV2ZW50LmRhdGFUcmFuc2ZlciEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGhpcy5wcm9qZWN0LmlkKTsgLy8vL2FuZXhhbW9zIGFwZW5hcyB1bWEgU1RSSU5HIENPTSBVTSBJRCwgZSBuw6NvIG8gb2JqZWN0IGVtIHNpLCBwcSBJU1NPIErDgSBTRVLDgSBTVUZJQ0lFTlRFIFBBUkEsIE1BSVMgVEFSREUsIGZldGNoZWFyIGVzc2UgZGV0ZXJtaW5hZG8gb2JqZWN0ICdQcm9qZWN0SXRlbScgbMOhIGRvIHN0YXRlIGRlIG5vc3NvIGFwcCBkZSBwcm9qZWN0cy4uLi5cclxuICAgIC8vY29tIGlzc28sIGFuZXhhbW9zIGRhdGEgQU8gRFJBR0VWRU5ULi4uIChwYXJhIHVxZSBkZXBvaXMgZXNzYSBkYXRhIFNFSkEgRVhUUkHDjURBLCBxdWFuZG8gcmVhbGl6YXJtb3MgbyAnZHJvcCBldmVudCcgZGVzc2UgZWxlbWVudCkuLi5cclxuXHJcbiAgICBldmVudC5kYXRhVHJhbnNmZXIhLmVmZmVjdEFsbG93ZWQgPSBcIm1vdmVcIjsgLy8vL0lTU08gQkFTSUNBTUVOVEUgX18gQ09OVFJPTEEgX18gQ09NTyBPIENVUlNPUiBERVZFIFNFIFBBUkVDRVIsIFFVQUwgREVWRSBTRVIgU1VBIEFQQVLDik5DSUEgRFVSQU5URSBPIERSQUctQU5ELURST1BcclxuICAgIC8vLy8tLT4gSVNTTyBESVogQU8gQlJPV1NFUiAxIFBPVUNPIERFIE5PU1NBUyBJTlRFTkNPRVMgKCBkaXogcXVlIHF1ZXJlbW9zIG1vdmVyIG8gY3Vyc29yIGRlICdBJyBwYXJhICdCJywgZXRjIGV0Yy4uLiApXHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coZXZlbnQpOyAvLy9zw7MgcGFyYSB2ZXIgZXNzZSBldmVudCBkZSAnZHJhZ3N0YXJ0Jy4uLi5cclxuICB9XHJcblxyXG4gIEBBdXRvYmluZFxyXG4gIGRyYWdFbmRIYW5kbGVyKGV2ZW50OiBEcmFnRXZlbnQpOiB2b2lkIHtcclxuICAgIGNvbnNvbGUubG9nKFwiRHJhZ0VuZFwiKTtcclxuICB9XHJcbn1cclxuXHJcbi8vICB9IiwiLy8gLzxyZWZlcmVuY2UgcGF0aD1cIi4vYmFzZS1jb21wb25lbnQudHNcIiAvPlxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGVjb3JhdG9ycy9hdXRvYmluZC50c1wiLz5cclxuLy8gLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3N0YXRlL3Byb2plY3Qtc3RhdGUudHNcIi8+XHJcbi8vIC88cmVmZXJlbmNlIHBhdGg9XCIuLi9tb2RlbHMvZW51bXMmUHJvamVjdENsYXNzLnRzXCIvPlxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi4vbW9kZWxzL2RyYWctZHJvcC1pbnRlcmZhY2VzLnRzXCIvPlxyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9iYXNlLWNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBEcmFnVGFyZ2V0IH0gZnJvbSAnLi4vbW9kZWxzL2RyYWctZHJvcC1pbnRlcmZhY2VzJztcclxuXHJcbmltcG9ydCB7IEF1dG9iaW5kIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy9hdXRvYmluZCc7XHJcblxyXG5cclxuaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdFN0YXR1cyB9IGZyb20gJy4uL21vZGVscy9lbnVtcyZQcm9qZWN0Q2xhc3MnO1xyXG5cclxuaW1wb3J0IHsgUHJvamVjdEl0ZW0gfSBmcm9tICcuL3Byb2plY3QtaXRlbSc7XHJcblxyXG5cclxuaW1wb3J0IHsgUHJvamVjdFN0YXRlLCBwcm9qZWN0U3RhdGUgfSBmcm9tICcuLi9zdGF0ZS9wcm9qZWN0LXN0YXRlJztcclxuXHJcblxyXG4vLyBuYW1lc3BhY2UgQXBwIHtcclxuICBleHBvcnQgY2xhc3MgUHJvamVjdExpc3RcclxuICAgIGV4dGVuZHMgQ29tcG9uZW50PEhUTUxEaXZFbGVtZW50LCBIVE1MRWxlbWVudD5cclxuICAgIC8vL2Fnb3JhIHZhbW9zIGZhemVyICdpbmhlcml0JyBkZXNzYSBiYXNlIGNsYXNzIEFCU1RSQVRBLCBxdWUgdGVtIHbDoXJpYXMgZGFzIGNvaXNhcyBuZWNlc3PDoXJpYXMgKEUgcmV1dGlsaXphZGFzKSBhIGVzc2Egbm9zc2EgJ2NoaWxkIGNsYXNzJy4uLlxyXG4gICAgaW1wbGVtZW50cyBEcmFnVGFyZ2V0XHJcbiAge1xyXG4gICAgLy8vdmFtb3MgcXVlcmVyIGZvcm1hciB1bSBDT05UUkFUTyBDT00gRVNTQSBJTlRFUkZBQ0UgQcONLi4uLiAtPiBlIGHDrSB2YW1vcyBwcmVjaXNhciBkZWZpbmlyIG9zIG1ldGhvZHMgZGUgJ2RyYWdPdmVySGFuZGxlcicsIGRyb3BIYW5kbGVyJyBlICdkcmFnTGVhdmVIYW5kbGVyJy4uLi4gLS0+IG1ldGhvZHMgZG8gY09NUE9SVEFNRU5UTyBEUkFHIEFORCBEUk9QLi4uXHJcblxyXG4gICAgYXNzaWduZWRQcm9qZWN0czogUHJvamVjdFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBsaXN0VHlwZTogXCJhY3RpdmVcIiB8IFwiZmluaXNoZWRcIikge1xyXG4gICAgICBzdXBlcihcInByb2plY3QtbGlzdFwiLCBcImFwcFwiLCBcImJlZm9yZWVuZFwiLCBgJHtsaXN0VHlwZX0tcHJvamVjdHNgKTtcclxuXHJcbiAgICAgIHRoaXMuYXNzaWduZWRQcm9qZWN0cyA9IFtdO1xyXG5cclxuICAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuXHJcbiAgICAgIHRoaXMucmVuZGVyQ29udGVudCgpOyAvLy9zZXR0YXIgbyBjb250ZcO6ZG8gZGVzc2EgbGlzdCBfIERFUE9JU19fIERFIEVMQV9fIFRFUiBTSURPIEFORVhBREEgQU8gRE9NLCBjb20gJ2F0dGFjaCgpJy4uLlxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyUHJvamVjdHMoKSB7XHJcbiAgICAgIGNvbnN0IGxpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgIGAke3RoaXMubGlzdFR5cGV9LXByb2plY3RzLWxpc3RgXHJcbiAgICAgICkhIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XHJcblxyXG4gICAgICBsaXN0RWwuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiB0aGlzLmFzc2lnbmVkUHJvamVjdHMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0KTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFzc2lnbmVkUHJvamVjdHMpO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RJdGVtID0gbmV3IFByb2plY3RJdGVtKFxyXG4gICAgICAgICAgYCR7dGhpcy5saXN0VHlwZX0tcHJvamVjdHMtbGlzdGAsXHJcbiAgICAgICAgICBwcm9qZWN0XHJcbiAgICAgICAgKTsgLy8vdmVyc8O1YSBkbyBwcm9mZXNzb3IsIGNvbSBpbmhlcml0IGRlICdDb21wb25lbnQnIChCYXNlIGNsYXNzKS4uLi5cclxuICAgICAgICAvLyBsaXN0RWwuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uZmlndXJlKCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMuZHJhZ092ZXJIYW5kbGVyKTsgLy8vL2PDs2RpZ28gZG8gcHJvZmVzc29yLi4uLlxyXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdsZWF2ZVwiLCB0aGlzLmRyYWdMZWF2ZUhhbmRsZXIpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgdGhpcy5kcm9wSGFuZGxlcik7XHJcblxyXG4gICAgICBwcm9qZWN0U3RhdGUuYWRkTGlzdGVuZXIoKHByb2plY3RzOiBQcm9qZWN0W10pID0+IHtcclxuICAgICAgICAvLy90cmFucHNsYW50YWRvIHBhcmEgREVOVFJPIERFICdjb25maWd1cmUoKScsIGVzdGUgbm9zc28gbWV0aG9kIHF1ZSBBRElDSU9OQSBVTSBMSVNURU5FUi4uXHJcblxyXG4gICAgICAgIGNvbnN0IHJlbGV2YW50UHJvamVjdHMgPSBwcm9qZWN0cy5maWx0ZXIoKHByb2plY3QpID0+IHtcclxuICAgICAgICAgIGlmICh0aGlzLmxpc3RUeXBlID09PSBcImZpbmlzaGVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2plY3QucHJvamVjdFN0YXR1cyA9PT0gUHJvamVjdFN0YXR1cy5GaW5pc2hlZDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9qZWN0LnByb2plY3RTdGF0dXMgPT09IFByb2plY3RTdGF0dXMuQWN0aXZlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFzc2lnbmVkUHJvamVjdHMgPSByZWxldmFudFByb2plY3RzOyAvLy8vY29tIGRpZmVyZW5jaWHDp8Ojby4uLi5cclxuICAgICAgICB0aGlzLnJlbmRlclByb2plY3RzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckNvbnRlbnQoKSB7XHJcbiAgICAgIC8vL3VzYWRvIHBhcmEgUFJFRU5DSEVSIE8gQ09OVEXDmkRPIERFICdoMicgZSB0YWxzLCBkZW50cm8gZG8gVEVNUExBVEUgZGUgJ2xpc3QnLi4uIChuYXF1ZWxhIHNlY3Rpb24sIGRlbnRybyBkZSBzZXUgaGVhZWRlcikuLi4uXHJcblxyXG4gICAgICBjb25zdCBsaXN0SWQgPSBgJHt0aGlzLmxpc3RUeXBlfS1wcm9qZWN0cy1saXN0YDtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGxpc3RJZCk7XHJcblxyXG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcInVsXCIpIS5pZCA9IGxpc3RJZDsgLy92YWkgYWRpY2lvbmFyIGVzc2UgJ2lkJyBhIG5vc3NhIFVOT1JERVJFRCBMSVNUIG5vIHRlbXBsYXRlIGRlICdwcm9qZWN0LWxpc3QnLi4uLlxyXG5cclxuICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCJoMlwiXHJcbiAgICAgICkhLnRleHRDb250ZW50ID0gYCR7dGhpcy5saXN0VHlwZS50b1VwcGVyQ2FzZSgpfSBQUk9KRUNUU2A7XHJcbiAgICB9XHJcblxyXG4gICAgQEF1dG9iaW5kXHJcbiAgICBkcmFnT3ZlckhhbmRsZXIoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWQge1xyXG4gICAgICAvLy8vVkVSU8ODTyBETyBQUk9GRVNTT1IuXHJcblxyXG4gICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyICYmIGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlc1swXSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IGxpc3RFbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwidWxcIikhO1xyXG4gICAgICAgIGxpc3RFbC5jbGFzc0xpc3QuYWRkKFwiZHJvcHBhYmxlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQEF1dG9iaW5kXHJcbiAgICBkcm9wSGFuZGxlcihldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IHByb2plY3RJZCA9IGV2ZW50LmRhdGFUcmFuc2ZlciEuZ2V0RGF0YShcInRleHQvcGxhaW5cIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGFUcmFuc2ZlciEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikpO1xyXG4gICAgICBwcm9qZWN0U3RhdGUubW92ZVByb2plY3QoXHJcbiAgICAgICAgcHJvamVjdElkLFxyXG4gICAgICAgIHRoaXMubGlzdFR5cGUgPT09IFwiYWN0aXZlXCJcclxuICAgICAgICAgID8gUHJvamVjdFN0YXR1cy5BY3RpdmVcclxuICAgICAgICAgIDogUHJvamVjdFN0YXR1cy5GaW5pc2hlZFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIEBBdXRvYmluZFxyXG4gICAgZHJhZ0xlYXZlSGFuZGxlcihldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XHJcbiAgICAgIGNvbnN0IGxpc3RFbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwidWxcIikhO1xyXG4gICAgICBsaXN0RWwuY2xhc3NMaXN0LnJlbW92ZShcImRyb3BwYWJsZVwiKTtcclxuICAgIH1cclxuICB9XHJcbi8vIH1cclxuIiwiXHJcblxyXG4vLy8vLy8vLy8vLy8vT0JTOjo6IEEgU0lOVEFYRSBERSAnSU1QT1JUJyBkZSBuYW1lc3BhY2VzIMOpIGFjZXNzYWRhIGNvbSAnLy8vJyAoMyBGT1JXQVJEIFNMQVNIRVMuLi4gaXNzbyBuw6NvIMOpIHVtIGNvbW1lbnQsIGUgc2ltIHVtIGltcG9ydCBkZSBuYW1lc3BhY2UpLi4uXHJcblxyXG5cclxuLy8vXHJcblxyXG4vLy9eXl5eIFNJTlRBWEUgREUgSU1QT1JUIERFIE5BTUVTUEFDRVMuLi5cclxuXHJcblxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi9kZWNvcmF0b3JzL2F1dG9iaW5kLnRzXCIvPiBcclxuLy8gLzxyZWZlcmVuY2UgcGF0aD1cIi4vbW9kZWxzL2VudW1zJlByb2plY3RDbGFzcy50c1wiLz5cclxuLy8gLzxyZWZlcmVuY2UgcGF0aD1cIi4vc3RhdGUvcHJvamVjdC1zdGF0ZS50c1wiIC8+XHJcbi8vIC88cmVmZXJlbmNlIHBhdGg9XCIuL3V0aWwvdmFsaWRhdGlvbi50c1wiIC8+XHJcblxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi9jb21wb25lbnRzL3Byb2plY3QtaXRlbS50c1wiIC8+XHJcbi8vIC88cmVmZXJlbmNlIHBhdGg9XCIuL2NvbXBvbmVudHMvcHJvamVjdC1saXN0LnRzXCIgLz5cclxuLy8gLzxyZWZlcmVuY2UgcGF0aD1cIi4vY29tcG9uZW50cy9wcm9qZWN0LWlucHV0LnRzXCIgLz5cclxuXHJcblxyXG4vLyAvPHJlZmVyZW5jZSBwYXRoPVwiLi9jb21wb25lbnRzL2Jhc2UtY29tcG9uZW50LnRzXCIgLz5cclxuXHJcblxyXG4vLy9SRU1PVkVNT1MgVFVETyBJU1NPLCBBR09SQSBVU0FNT1MgRVM2IE1PRFVMRVMuLi5cclxuXHJcblxyXG5cclxuXHJcbi8vIGVudW0gUHJvamVjdFN0YXR1cyB7IC8vL3VzYWRvIHBhcmEgJ0VDT05PTUlaQVIgQ8OTRElHTycgKHBhc3NhbW9zIDAgZSAxIGVtIHZleiBkYXF1ZWxhcyBzdHJpbmdzIGFsaSkuLi5cclxuLy8gICBBY3RpRnZlLCAvLy8wXHJcbi8vICAgRmluaXNoZWQgLy8vLzFcclxuLy8gfVxyXG5cclxuXHJcblxyXG4vLyBjbGFzcyBQcm9qZWN0IHsgXHJcblxyXG4vLyAgIGNvbnN0cnVjdG9yKCBcclxuLy8gICAgIHB1YmxpYyBpZDogc3RyaW5nLCBcclxuLy8gICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nLCBcclxuLy8gICAgIHB1YmxpYyBkZXNjcmlwdGlvbjogc3RyaW5nLCBcclxuLy8gICAgIHB1YmxpYyBwZW9wbGU6IG51bWJlciwgXHJcbi8vICAgICBwdWJsaWMgcHJvamVjdFN0YXR1czogUHJvamVjdFN0YXR1cyBcclxuLy8gICAgICApIHtcclxuXHJcbi8vICAgICB9XHJcblxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8vL2F1dG9iaW5kIGRlY29yYXRvci4uLlxyXG4vLyBmdW5jdGlvbiBBdXRvYmluZChfOiBhbnksIF8yOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvcikge1xyXG4vLyAgIC8vLy8vIFVTQVJFTU9TIE5PUyBOT1NTT1MgTUVUSE9EUyBuYSBub3NzYSBjbGFzcy4uLlxyXG5cclxuLy8gICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XHJcblxyXG4vLyAgIGNvbnN0IGFkanVzdGVkRGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yID0ge1xyXG4vLyAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4vLyAgICAgZ2V0KCkge1xyXG4vLyAgICAgICBjb25zdCBib3VuZEZ1bmN0aW9uID0gb3JpZ2luYWxNZXRob2QuYmluZCh0aGlzKTtcclxuLy8gICAgICAgcmV0dXJuIGJvdW5kRnVuY3Rpb247XHJcbi8vICAgICB9LFxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiBhZGp1c3RlZERlc2NyaXB0b3I7XHJcbi8vIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50PFQgZXh0ZW5kcyBIVE1MRWxlbWVudCwgVSBleHRlbmRzIEhUTUxFbGVtZW50PiB7IC8vLy9jbGFzcyBnZW7DqXJpY2EgKCdUJywgJ1UnKSBxdWUgc2Vyw6EgaW5oZXJpdHRhZGEgcG9yIG5vc3NhcyAnaW50ZXJmYWNlIGNsYXNzZXMnIChjb21vICdQcm9qZWN0SW5wdXQnIGUgJ1Byb2plY3RMaXN0JykuLi4uXHJcblxyXG4gICAgXHJcbi8vICAgdGVtcGxhdGVFbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4vLyAgIGhvc3RFbGVtZW50OiBUO1xyXG4vLyAgIGVsZW1lbnQ6IFU7XHJcblxyXG5cclxuXHJcbi8vICAgY29uc3RydWN0b3IodGVtcGxhdGVJZDogc3RyaW5nLCBcclxuLy8gICAgIGhvc3RFbGVtZW50SWQ6IHN0cmluZywgXHJcbi8vICAgICBpbnNlcnRQb3NpdGlvbjogJ2FmdGVyYmVnaW4nIHwgJ2JlZm9yZWVuZCcsXHJcbi8vICAgICBuZXdFbGVtZW50SWQ/OiBzdHJpbmcpIHsgIFxyXG4vLyAgICAgdGhpcy50ZW1wbGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZW1wbGF0ZUlkKSEgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDsgIFxyXG4vLyAgICAgdGhpcy5ob3N0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhvc3RFbGVtZW50SWQpISBhcyBUOyAvLy90cm9jYW1vcyAnYXMgSFRNTERpdkVsZW1lbnQnIHBvciAnYXMgVCcuLi5cclxuXHJcbiAgICAgICAgXHJcblxyXG4vLyAgICAgLy8vLyBlc3NlIGPDs2RpZ28gZGUgJ2NvbnZlcnPDo28gZGUgdGVtcGxhdGUgZW0gZWxlbWVudG9zIGh0bWwgZGUgdmVyZGFkZScgdmFpIGZ1bmNpb25hciBjb20gdG9kYXMgYXMgY2xhc3NlcyAnaW50ZXJmYWNlL3VpJyBxdWUgaW5oZXJpdGFyZW0gZXNzYSBub3NzYSBjbGFzcyBnZW7DqXJpY2EgZGUgJ0NvbXBvbmVudCcuLi4uXHJcbi8vICAgICAgIGNvbnN0IGltcG9ydGVkTm9kZSA9IGRvY3VtZW50LmltcG9ydE5vZGUoICAgXHJcbi8vICAgICAgICAgdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudCxcclxuLy8gICAgICAgICAgIHRydWVcclxuLy8gICAgICAgICAgICk7IFxyXG4vLyAgICAgICB0aGlzLmVsZW1lbnQgPSBpbXBvcnRlZE5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgYXMgVTtcclxuLy8gICAgICAgICAvLyB0aGlzLmVsZW1lbnQuaWQgPSAndXNlci1pbnB1dCc7XHJcblxyXG4vLyAgICAgICAgIGlmKG5ld0VsZW1lbnRJZCkgeyAvLy8vbWluaGEgaWRlaWEuLi4uIC0tPiBwcSBlc3NlICduZXdFbGVtZW50SWQnIMOpIE9QQ0lPTkFMLi4uICgnbmV3RWxlbWVudElkPycuLikuLi5cclxuLy8gICAgICAgICAgIHRoaXMuZWxlbWVudC5pZCA9IG5ld0VsZW1lbnRJZDtcclxuLy8gICAgICAgICB9XHJcblxyXG5cclxuLy8gICAgICAgICB0aGlzLmF0dGFjaChpbnNlcnRQb3NpdGlvbik7XHJcbiAgICAgXHJcbi8vICAgfVxyXG5cclxuXHJcbi8vICAgcHJpdmF0ZSBhdHRhY2goaW5zZXJ0UG9zaXRpb246ICdhZnRlcmJlZ2luJyB8ICdiZWZvcmVlbmQnKSB7XHJcblxyXG4vLyAgICAgdGhpcy5ob3N0RWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoaW5zZXJ0UG9zaXRpb24sIHRoaXMuZWxlbWVudCk7XHJcbi8vICAgfVxyXG5cclxuLy8gICBhYnN0cmFjdCBjb25maWd1cmUoKTogdm9pZCAvLy9kZWZpbmltb3MgZXNzZXMgbWV0aG9kcyBjb21vICdhYnN0cmFjdCcsIHBxIF9fIFFVRVJFTU9TIF8gUVVFIFNVQSAnQ09OQ1JFVEUgSU1QTEVNRU5UQVRJT04nIHPDsyB2YWkgYWNvbnRlY2VyIG5hcyBDTEFTU0VTIFFVRSBIRVJEQVJFTSBFU1NBIE5PU1NBIENMQVNTIEFCU1RSQVRBIChjw7NkaWdvL2zDs2dpY2EgZGUgbWV0aG9kIGVzcGVjw61maWNvIMOgIGNhZGEgY2xhc3MgcXVlIGluaGVyaXRhKS4uLlxyXG5cclxuLy8gIGFic3RyYWN0IHJlbmRlckNvbnRlbnQ/KCk6IHZvaWRcclxuXHJcblxyXG5cclxuXHJcbi8vIH1cclxuXHJcblxyXG5cclxuXHJcbi8vIHR5cGUgTGlzdGVuZXI8VD4gPSAoaXRlbXM6IFRbXSkgPT4gdm9pZDsgLy8vL3R5cGUgR0VOw4lSSUNPLi4uXHJcblxyXG5cclxuXHJcblxyXG4vLyBjbGFzcyBTdGF0ZTxUPiB7IFxyXG4vLyAgcHJvdGVjdGVkIGxpc3RlbmVyczogTGlzdGVuZXI8VD5bXSA9IFtdOyAgLy8vdXNhbW9zICdwcm90ZWN0ZWQnIHBxIHF1ZXJlbW9zIHF1ZSBlc3NhIHByb3ByaWVkYWRlIHNlamEgdXNhZGEgbmFzIElOSEVSSVRJTkcgQ0xBU1NFUy4uLiAoY29tbyBlbSAnUHJvamVjdFN0YXRlJy4uLilcclxuXHJcbi8vICAgYWRkTGlzdGVuZXIobGlzdGVuZXJGdW5jdGlvbjogTGlzdGVuZXI8VD4pIHsgLy9mb3J3YXJkIGRvICdUJyBlbSAnU3RhdGUnLi4uXHJcbi8vICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyRnVuY3Rpb24pO1xyXG4vLyAgIH1cclxuXHJcblxyXG4vLyB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgIGNsYXNzIFByb2plY3RTdGF0ZSBleHRlbmRzIFN0YXRlPFByb2plY3Q+IHsgXHJcblxyXG5cclxuLy8gICBwcml2YXRlIHByb2plY3RzOiBQcm9qZWN0W10gPSBbXTsgLy8vbyB0eXBlIHNlcsOhIG5vc3NhIENMQVNTIERFICdQcm9qZWN0JywgZW0gMSBhcnJheSBkZXNzZSB0aXBvIGRlIG9iamVjdC4uLlxyXG5cclxuLy8gICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogUHJvamVjdFN0YXRlOyAvL0VJUyBPIEPDk0RJR08gRU0gUVVFU1TDg08uIFNJTkdMRVRPTiBQQVRURVJOLi4uXHJcblxyXG5cclxuXHJcbi8vICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuLy8gICAgIC8vdmFtb3MgcXVlcmVyIHF1ZSBlc3NlIGNvbnN0cnVjdG9yIHNlamEgJ3ByaXZhdGUnIHBvciBjYXVzYSBkbyBTSU5HTEVUT04gUEFUVEVSTiAocXVlcmVtb3MgcXVlIFPDkyBQT1NTQSBTRVIgQ1JJQURPIDEgT0JKRUNULCBhIHBhcnRpciBkZXNzYSBjbGFzcywgUE9SIE1FSU8gREUgVU0gTUVUSE9EIElOVEVSTk8gQSBFU1NBIENMQVNTLi4pXHJcbiAgXHJcbi8vICAgICBzdXBlcigpXHJcbiAgXHJcbiAgXHJcbi8vICAgfVxyXG5cclxuLy8gICBhZGRQcm9qZWN0KHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIG51bU9mUGVvcGxlOiBudW1iZXIpIHtcclxuXHJcblxyXG4vLyAgICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSwgdGl0bGUsIGRlc2NyaXB0aW9uLCBudW1PZlBlb3BsZSwgUHJvamVjdFN0YXR1cy5BY3RpdmUpOyAgLy8vLy8vL09VIFNFSkEsIGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIHBlb3BsZSwgUHJvamVjdFN0YXR1cyAoZW51bSBkZSAwIGUgMSwgYWN0aXZlIGUgZmluaXNoZWQpLi4uLlxyXG5cclxuLy8gICAgIHRoaXMucHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcclxuXHJcbi8vICAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG5cclxuLy8gICB9XHJcblxyXG5cclxuXHJcblxyXG4vLyBtb3ZlUHJvamVjdChwcm9qZWN0SWQ6IHN0cmluZywgbmV3U3RhdHVzOiBQcm9qZWN0U3RhdHVzKSB7ICAgLy8vVkVSU8ODTyBETyBQUk9GRVNTT1IuLi5cclxuICAgIFxyXG5cclxuLy8gICBjb25zdCBwcm9qZWN0VG9Nb3ZlID0gdGhpcy5wcm9qZWN0cy5maW5kKFxyXG4vLyAgICAgKHByb2plY3QpID0+IHtcclxuLy8gICAgICAgICByZXR1cm4gcHJvamVjdC5pZCA9PT0gcHJvamVjdElkXHJcbi8vICAgICB9XHJcbi8vICAgKVxyXG5cclxuLy8gICBpZihwcm9qZWN0VG9Nb3ZlICYmIHByb2plY3RUb01vdmUucHJvamVjdFN0YXR1cykge1xyXG4gICAgICBcclxuLy8gICAgIHByb2plY3RUb01vdmUucHJvamVjdFN0YXR1cyA9IG5ld1N0YXR1czsgIC8vL3ZhaSB0cm9jYXIgYSAnbGlzdCcgZW0gcXVlIGVzdMOhIG8gb2JqZWN0Li4uXHJcbi8vICAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG4vLyAgICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIHByaXZhdGUgdXBkYXRlTGlzdGVuZXJzKCkge1xyXG5cclxuXHJcblxyXG4vLyAgIGZvciAoY29uc3QgbGlzdGVuZXJGdW5jdGlvbiBvZiB0aGlzLmxpc3RlbmVycykge1xyXG4vLyAgICAgICBsaXN0ZW5lckZ1bmN0aW9uKHRoaXMucHJvamVjdHMuc2xpY2UoKSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vICAgc3RhdGljIGdldEluc3RhbmNlKCkge1xyXG5cclxuLy8gICAgIGlmICh0aGlzLmluc3RhbmNlKSB7XHJcbi8vICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlOyAvLy8vL1ZBSSBNQU5URVIgTk9TU08gJ09CSkVDVCcvaW5zdGFuY2UgZGUgbm9zc2EgY2xhc3MgX18gSU5UQUNUQV8uLi4uIChTZW0gbXVkYW7Dp2EpLi4uXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBQcm9qZWN0U3RhdGUoKTtcclxuLy8gICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4vLyAgIH1cclxuXHJcblxyXG5cclxuXHJcbi8vIH1cclxuXHJcblxyXG4vLyBjb25zdCBwcm9qZWN0U3RhdGUgPSBQcm9qZWN0U3RhdGUuZ2V0SW5zdGFuY2UoKTtcclxuXHJcblxyXG4vLyBpbnRlcmZhY2UgVmFsaWRhdGFibGUge1xyXG5cclxuLy8gICB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyOyAvL8OpIG8gJ2FjdHVhbCB2YWx1ZScgZGUgdW0gZGV0ZXJtaW5hZG8gZmllbGQuXHJcbi8vICAgLy8gaW5wdXRGaWVsZDogc3RyaW5nO1xyXG5cclxuLy8gICByZXF1aXJlZD86IGJvb2xlYW47IC8vL3PDo28gYXMgJ3ZhbGlkYXRpb24gcHJvcGVydGllcycgZGUgdW0gZGV0ZXJtaW5hZG8gZmllbGQgKHBxIHVtIGZpZWxkIE7Dg08gUFJFQ0lTQSBURVIgVE9EQVMgRU0gU0kuLi4gYWxndW5zIGZpZWxkcyBwb2RlbSB0ZXIgc8OzICdtaW5MZW5ndGgnLCBvdXRyb3Mgc8OzICdtaW4nIGNvbSAncmVxdWlyZWQnLCBldGMgZXRjLi4pXHJcbi8vICAgbWluTGVuZ3RoPzogbnVtYmVyO1xyXG4vLyAgIG1heExlbmd0aD86IG51bWJlcjtcclxuLy8gICBtaW4/OiBudW1iZXI7XHJcbi8vICAgbWF4PzogbnVtYmVyO1xyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vIGZ1bmN0aW9uIHZhbGlkYXRlKHZhbGlkYXRhYmxlSW5wdXQ6IFZhbGlkYXRhYmxlKTogYm9vbGVhbiB7XHJcbi8vICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xyXG5cclxuLy8gICBpZiAodmFsaWRhdGFibGVJbnB1dC5yZXF1aXJlZCkge1xyXG4vLyAgICAgaXNWYWxpZCA9IGlzVmFsaWQgJiYgdmFsaWRhdGFibGVJbnB1dC52YWx1ZS50b1N0cmluZygpLnRyaW0oKSAhPT0gJyc7IC8vLy90YWx2ZXogZXN0YSBleHByZXNzw6NvIHNlamEgdsOhbGlkYSBjb21vIGEgZGUgYmFpeG8sIHRhbWLDqW0uLi5cclxuLy8gICAgIC8vIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkYXRhYmxlSW5wdXQudmFsdWUudHJpbSgpLmxlbmd0aCAhPT0gMDsgLy8vZXN0YSBleHByZXNzw6NvIGZvaSBhIGFkb3RhZGEgcGVsbyBwcm9mZXNzb3IuLi4uXHJcbi8vICAgfVxyXG5cclxuLy8gICBpZiAoXHJcbi8vICAgICB2YWxpZGF0YWJsZUlucHV0Lm1pbkxlbmd0aCAhPSBudWxsICYmXHJcbi8vICAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gJ3N0cmluZydcclxuLy8gICApIHtcclxuXHJcbi8vICAgICBpc1ZhbGlkID1cclxuLy8gICAgICAgaXNWYWxpZCAmJlxyXG4vLyAgICAgICB2YWxpZGF0YWJsZUlucHV0LnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoID4gdmFsaWRhdGFibGVJbnB1dC5taW5MZW5ndGg7IC8vLy9jaGVjayBkZSBNSU5JTVVNIExFTkdUSC5cclxuLy8gICB9XHJcblxyXG4vLyAgIGlmIChcclxuLy8gICAgIHZhbGlkYXRhYmxlSW5wdXQubWF4TGVuZ3RoICE9IG51bGwgJiZcclxuLy8gICAgIHR5cGVvZiB2YWxpZGF0YWJsZUlucHV0LnZhbHVlID09PSAnc3RyaW5nJ1xyXG4vLyAgICkge1xyXG4vLyAgICAgaXNWYWxpZCA9XHJcbi8vICAgICAgIGlzVmFsaWQgJiZcclxuLy8gICAgICAgdmFsaWRhdGFibGVJbnB1dC52YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IHZhbGlkYXRhYmxlSW5wdXQubWF4TGVuZ3RoOyAvLy8vY2hlY2sgZGUgTUlOSU1VTSBMRU5HVEguXHJcbi8vICAgfVxyXG5cclxuLy8gICBpZiAoXHJcbi8vICAgICB2YWxpZGF0YWJsZUlucHV0Lm1pbiAhPSBudWxsICYmXHJcbi8vICAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gJ251bWJlcidcclxuLy8gICApIHtcclxuLy8gICAgIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkYXRhYmxlSW5wdXQudmFsdWUgPj0gdmFsaWRhdGFibGVJbnB1dC5taW47XHJcbi8vICAgfVxyXG5cclxuLy8gICBpZiAoXHJcbi8vICAgICB2YWxpZGF0YWJsZUlucHV0Lm1heCAhPSBudWxsICYmXHJcbi8vICAgICB0eXBlb2YgdmFsaWRhdGFibGVJbnB1dC52YWx1ZSA9PT0gJ251bWJlcidcclxuLy8gICApIHtcclxuLy8gICAgIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkYXRhYmxlSW5wdXQudmFsdWUgPCB2YWxpZGF0YWJsZUlucHV0Lm1heDtcclxuLy8gICB9XHJcblxyXG4vLyAgIHJldHVybiBpc1ZhbGlkO1xyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vIGNsYXNzIFByb2plY3RMaXN0IFxyXG5cclxuLy8gZXh0ZW5kcyBDb21wb25lbnQ8SFRNTERpdkVsZW1lbnQsIEhUTUxFbGVtZW50PiAgLy8vYWdvcmEgdmFtb3MgZmF6ZXIgJ2luaGVyaXQnIGRlc3NhIGJhc2UgY2xhc3MgQUJTVFJBVEEsIHF1ZSB0ZW0gdsOhcmlhcyBkYXMgY29pc2FzIG5lY2Vzc8OhcmlhcyAoRSByZXV0aWxpemFkYXMpIGEgZXNzYSBub3NzYSAnY2hpbGQgY2xhc3MnLi4uXHJcbi8vIGltcGxlbWVudHMgRHJhZ1RhcmdldCAvLy92YW1vcyBxdWVyZXIgZm9ybWFyIHVtIENPTlRSQVRPIENPTSBFU1NBIElOVEVSRkFDRSBBw40uLi4uIC0+IGUgYcOtIHZhbW9zIHByZWNpc2FyIGRlZmluaXIgb3MgbWV0aG9kcyBkZSAnZHJhZ092ZXJIYW5kbGVyJywgZHJvcEhhbmRsZXInIGUgJ2RyYWdMZWF2ZUhhbmRsZXInLi4uLiAtLT4gbWV0aG9kcyBkbyBjT01QT1JUQU1FTlRPIERSQUcgQU5EIERST1AuLi5cclxuXHJcbi8vIHsgXHJcbiBcclxuIFxyXG5cclxuLy8gICBhc3NpZ25lZFByb2plY3RzOiBQcm9qZWN0W10gPSBbXTtcclxuXHJcbi8vICAgY29uc3RydWN0b3IocHJpdmF0ZSBsaXN0VHlwZTogJ2FjdGl2ZScgfCAnZmluaXNoZWQnKSB7XHJcblxyXG4vLyAgICAgc3VwZXIoJ3Byb2plY3QtbGlzdCcsICdhcHAnLCAnYmVmb3JlZW5kJywgYCR7bGlzdFR5cGV9LXByb2plY3RzYCk7XHJcbiAgICBcclxuLy8gICAgIHRoaXMuYXNzaWduZWRQcm9qZWN0cyA9IFtdO1xyXG5cclxuXHJcbi8vICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG5cclxuLy8gICAgIHRoaXMucmVuZGVyQ29udGVudCgpOyAvLy9zZXR0YXIgbyBjb250ZcO6ZG8gZGVzc2EgbGlzdCBfIERFUE9JU19fIERFIEVMQV9fIFRFUiBTSURPIEFORVhBREEgQU8gRE9NLCBjb20gJ2F0dGFjaCgpJy4uLlxyXG4vLyAgIH1cclxuXHJcblxyXG4vLyBwcml2YXRlIHJlbmRlclByb2plY3RzKCkge1xyXG4vLyAgICAgY29uc3QgbGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5saXN0VHlwZX0tcHJvamVjdHMtbGlzdGApISBhcyBIVE1MVUxpc3RFbGVtZW50O1xyXG5cclxuXHJcbi8vICAgICBsaXN0RWwuaW5uZXJIVE1MID0gJyc7XHJcblxyXG4vLyAgICAgZm9yIChjb25zdCBwcm9qZWN0IG9mIHRoaXMuYXNzaWduZWRQcm9qZWN0cykge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0KTtcclxuLy8gICAgICAgY29uc29sZS5sb2codGhpcy5hc3NpZ25lZFByb2plY3RzKTtcclxuLy8gICAgICAgICBjb25zdCBwcm9qZWN0SXRlbSA9IG5ldyBQcm9qZWN0SXRlbShgJHt0aGlzLmxpc3RUeXBlfS1wcm9qZWN0cy1saXN0YCwgcHJvamVjdCkgLy8vdmVyc8O1YSBkbyBwcm9mZXNzb3IsIGNvbSBpbmhlcml0IGRlICdDb21wb25lbnQnIChCYXNlIGNsYXNzKS4uLi5cclxuLy8gICAgICAgICAvLyBsaXN0RWwuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xyXG5cclxuICAgICAgXHJcbi8vICAgICB9XHJcbi8vICAgfVxyXG5cclxuXHJcbi8vICAgIGNvbmZpZ3VyZSgpIHtcclxuXHJcblxyXG5cclxuICAgIFxyXG4vLyB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmRyYWdPdmVySGFuZGxlcik7ICAvLy8vY8OzZGlnbyBkbyBwcm9mZXNzb3IuLi4uXHJcbi8vIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmRyYWdMZWF2ZUhhbmRsZXIpO1xyXG4vLyB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xyXG5cclxuXHJcbi8vICAgICBwcm9qZWN0U3RhdGUuYWRkTGlzdGVuZXIoKHByb2plY3RzOiBQcm9qZWN0W10pID0+IHsgLy8vdHJhbnBzbGFudGFkbyBwYXJhIERFTlRSTyBERSAnY29uZmlndXJlKCknLCBlc3RlIG5vc3NvIG1ldGhvZCBxdWUgQURJQ0lPTkEgVU0gTElTVEVORVIuLlxyXG5cclxuLy8gICAgICAgY29uc3QgcmVsZXZhbnRQcm9qZWN0cyA9ICBwcm9qZWN0cy5maWx0ZXIoXHJcbi8vICAgKHByb2plY3QpID0+IHsgXHJcbi8vICAgICBpZih0aGlzLmxpc3RUeXBlID09PSAnZmluaXNoZWQnKSB7IFxyXG5cclxuLy8gICAgICAgICByZXR1cm4gcHJvamVjdC5wcm9qZWN0U3RhdHVzID09PSBQcm9qZWN0U3RhdHVzLkZpbmlzaGVkO1xyXG4gIFxyXG4vLyAgICAgfSBlbHNlIHtcclxuXHJcbi8vICAgICAgICAgICAgIHJldHVybiBwcm9qZWN0LnByb2plY3RTdGF0dXMgPT09IFByb2plY3RTdGF0dXMuQWN0aXZlXHJcbi8vICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgKTtcclxuXHJcbi8vICAgICAgIHRoaXMuYXNzaWduZWRQcm9qZWN0cyA9IHJlbGV2YW50UHJvamVjdHMgLy8vL2NvbSBkaWZlcmVuY2lhw6fDo28uLi4uXHJcbi8vICAgICAgIHRoaXMucmVuZGVyUHJvamVjdHMoKTtcclxuLy8gICAgIH0pO1xyXG5cclxuXHJcbi8vICAgfVxyXG5cclxuLy8gICAgcmVuZGVyQ29udGVudCgpIHtcclxuLy8gICAgIC8vL3VzYWRvIHBhcmEgUFJFRU5DSEVSIE8gQ09OVEXDmkRPIERFICdoMicgZSB0YWxzLCBkZW50cm8gZG8gVEVNUExBVEUgZGUgJ2xpc3QnLi4uIChuYXF1ZWxhIHNlY3Rpb24sIGRlbnRybyBkZSBzZXUgaGVhZWRlcikuLi4uXHJcblxyXG4vLyAgICAgY29uc3QgbGlzdElkID0gYCR7dGhpcy5saXN0VHlwZX0tcHJvamVjdHMtbGlzdGA7XHJcblxyXG4vLyAgICAgY29uc29sZS5sb2cobGlzdElkKTtcclxuXHJcbi8vICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwnKSEuaWQgPSBsaXN0SWQ7IC8vdmFpIGFkaWNpb25hciBlc3NlICdpZCcgYSBub3NzYSBVTk9SREVSRUQgTElTVCBubyB0ZW1wbGF0ZSBkZSAncHJvamVjdC1saXN0Jy4uLi5cclxuXHJcbi8vICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuLy8gICAgICAgJ2gyJ1xyXG4vLyAgICAgKSEudGV4dENvbnRlbnQgPSBgJHt0aGlzLmxpc3RUeXBlLnRvVXBwZXJDYXNlKCl9IFBST0pFQ1RTYDtcclxuLy8gICB9XHJcblxyXG5cclxuXHJcbiAgXHJcbi8vIEBBdXRvYmluZCBcclxuLy8gZHJhZ092ZXJIYW5kbGVyKGV2ZW50OiBEcmFnRXZlbnQpOiAgdm9pZCAgeyAgLy8vL1ZFUlPDg08gRE8gUFJPRkVTU09SLlxyXG4gIFxyXG4vLyAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIgJiYgZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzWzBdID09PSAndGV4dC9wbGFpbicpIHtcclxuXHJcbi8vICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgY29uc3QgbGlzdEVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsJykhO1xyXG4vLyAgICAgbGlzdEVsLmNsYXNzTGlzdC5hZGQoJ2Ryb3BwYWJsZScpO1xyXG4vLyB9XHJcblxyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vICAgQEF1dG9iaW5kXHJcbi8vICAgZHJvcEhhbmRsZXIoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWQge1xyXG4vLyAgICAgY29uc3QgcHJvamVjdElkID0gZXZlbnQuZGF0YVRyYW5zZmVyIS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGFUcmFuc2ZlciEuZ2V0RGF0YSgndGV4dC9wbGFpbicpKTtcclxuLy8gICBwcm9qZWN0U3RhdGUubW92ZVByb2plY3QocHJvamVjdElkLCB0aGlzLmxpc3RUeXBlID09PSAnYWN0aXZlJyA/IFByb2plY3RTdGF0dXMuQWN0aXZlIDogUHJvamVjdFN0YXR1cy5GaW5pc2hlZCApXHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vICAgQEF1dG9iaW5kXHJcbi8vICAgZHJhZ0xlYXZlSGFuZGxlcihldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XHJcbi8vICAgICBjb25zdCBsaXN0RWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwnKSE7XHJcbi8vICAgICBsaXN0RWwuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcHBhYmxlJyk7XHJcbi8vICAgfVxyXG5cclxuLy8gfVxyXG5cclxuXHJcbi8vIGNsYXNzIFByb2plY3RJbnB1dCBleHRlbmRzIENvbXBvbmVudDxIVE1MRGl2RWxlbWVudCwgSFRNTEZvcm1FbGVtZW50PiB7XHJcblxyXG4vLyAgIHRpdGxlSW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50OyAvLy9JTlBVVCBGSUVMRFMgREEgRk9STS4uLlxyXG4vLyAgIGRlc2NyaXB0aW9uSW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4vLyAgIHBlb3BsZUlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbi8vICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vICAgICBzdXBlcigncHJvamVjdC1pbnB1dCcsICdhcHAnLCAnYWZ0ZXJiZWdpbicsICd1c2VyLWlucHV0Jyk7XHJcblxyXG4gICAgXHJcbi8vICAgICB0aGlzLnRpdGxlSW5wdXRFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbi8vICAgICAgICcjdGl0bGUnXHJcbi8vICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbi8vICAgICBjb25zb2xlLmxvZyh0aGlzLnRpdGxlSW5wdXRFbGVtZW50LnZhbHVlKTtcclxuLy8gICAgIHRoaXMuZGVzY3JpcHRpb25JbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuLy8gICAgICAgJyNkZXNjcmlwdGlvbidcclxuLy8gICAgICkgYXMgSFRNTElucHV0RWxlbWVudDsgLy9FSVMgTyBDw5NESUdPIEVNIFFVRVNUw4NPLlxyXG4vLyAgICAgdGhpcy5wZW9wbGVJbnB1dEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuLy8gICAgICAgJyNwZW9wbGUnXHJcbi8vICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuLy8gICB9XHJcblxyXG5cclxuXHJcbi8vICAgcmVuZGVyQ29udGVudCgpIHtcclxuXHJcbi8vICAgfVxyXG5cclxuLy8gICBjb25maWd1cmUoKSB7XHJcbi8vICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggICAgIFxyXG4vLyAgICAgICAnc3VibWl0JyxcclxuICAgIFxyXG4vLyAgICAgICB0aGlzLnN1Ym1pdEhhbmRsZXJcclxuLy8gICAgICk7XHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgIEBBdXRvYmluZFxyXG4vLyAgIHByaXZhdGUgc3VibWl0SGFuZGxlcihldmVudDogRXZlbnQpIHtcclxuLy8gICAgIC8vL3ZhaSBzZXIgdXNhZG8gbm8gbm9zc28gZXZlbnRMaXN0ZW5lciwgcG9yIGlzc28gZXNzZSBwYXLDom1ldHJvIGRlICdldmVudCcsIGRlIHR5cGUgJ0V2ZW50Jy4uICAtLS0+IC8vL3Byb3ByaWVkYWRlIGFwZW5hcyBjYXBheiBkZSBzZXIgYWNlc3NhZGEgcG9yIEVYRUNVw4fDlUVTIERFTlRSTyBERSBOT1NTQSBDTEFTUy4uLiAob3UgZGVudHJvIGRvIG9iamVjdCkgLS0+IHZvY8OKIHPDsyBuw6NvIHBvZGUgdXNhciBBIERPVCBOT1RBVElPTiwgbm8gbGFkbyBkZSBmb3JhLCBtZXNtby4uLlxyXG5cclxuLy8gICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgICBjb25zb2xlLmxvZyh0aGlzLnRpdGxlSW5wdXRFbGVtZW50KTsgLy8gc2UgY2hhbWFtb3MgJ3NvbHRvJyBhc3NpbSwgY29tIGVzc2UgJ3RoaXMnLCB2YW1vcyBjb25zZWd1aXIgX18gJ1VOREVGSU5FRCcsIHJlc3VsdGFuZG8gZW0gdW0gZXJyby4uLiAuXHJcbi8vICAgICBjb25zb2xlLmxvZyh0aGlzLnRpdGxlSW5wdXRFbGVtZW50LnZhbHVlKTsgLy8vIC0tPiBwYXJhIGNvbnNlcnRhciBlc3NlIGNvbXBvcnRhbWVudG8sIHByZWNpc21hb3MgYmluZGFyIGEgJ3RoaXMnIGtleXdvcmQgYSBub3NzYSBjbGFzcyBkZSAnUHJvamVjdElucHV0Jy4uLlxyXG4vLyAgICAgY29uc3QgdXNlcklucHV0ID0gdGhpcy5nYXRoZXJVc2VySW5wdXRzKCk7XHJcbi8vICAgICBpZiAoQXJyYXkuaXNBcnJheSh1c2VySW5wdXQpKSB7XHJcbiBcclxuLy8gICAgICAgY29uc3QgW3RpdGxlLCBkZXNjLCBwZW9wbGVdID0gdXNlcklucHV0OyAvL3ZhbW9zIGZhemVyIGFsZ28gY29tIGVzc2UgaW5wdXQgYcOtLCBleHRyYcOtZG8gcG9yIG1laW8gZG8gYXJyYXkgZGVzdHJ1Y3R1cmluZy4uLlxyXG5cclxuLy8gICAgICAgY29uc29sZS5sb2codGl0bGUsIGRlc2MsIHBlb3BsZSwgJ0xJTkUnKTtcclxuLy8gICAgICAgcHJvamVjdFN0YXRlLmFkZFByb2plY3QodGl0bGUsIGRlc2MsIHBlb3BsZSk7XHJcblxyXG4vLyAgICAgICAvLyBjb25zdCBwcm9qZWN0U3RhdGUgPSBuZXcgUHJvamVjdFN0YXRlKCk7IC8vc2luZ2xldG9uIFBBVFRFUk4gIGUgJ3ByaXZhdGUgY29uc3RydWN0b3InLi4uXHJcbi8vICAgICAgIHRoaXMuY2xlYXJJbnB1dHMoKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICB0aGlzLmNsZWFySW5wdXRzKCk7XHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vICAgcHJpdmF0ZSBnYXRoZXJVc2VySW5wdXRzKCk6IFtzdHJpbmcsIHN0cmluZywgbnVtYmVyXSB8IHZvaWQge1xyXG5cclxuLy8gICAgIGNvbnN0IGVudGVyZWRUaXRsZSA9IHRoaXMudGl0bGVJbnB1dEVsZW1lbnQudmFsdWU7XHJcbi8vICAgICBjb25zdCBlbnRlcmVkRGVzY3JpcHRpb24gPSB0aGlzLmRlc2NyaXB0aW9uSW5wdXRFbGVtZW50LnZhbHVlO1xyXG4vLyAgICAgY29uc3QgZW50ZXJlZFBlb3BsZSA9ICt0aGlzLnBlb3BsZUlucHV0RWxlbWVudC52YWx1ZTtcclxuXHJcblxyXG5cclxuLy8gICAgIGNvbnN0IHRpdGxlVmFsaWRhdGFibGU6IFZhbGlkYXRhYmxlID0ge1xyXG4vLyAgICAgICB2YWx1ZTogZW50ZXJlZFRpdGxlLFxyXG4vLyAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuLy8gICAgICAgbWluTGVuZ3RoOiA1LCAvLy9sw7NnaWNhIGRlIHZhbGlkYXRpb24sIGV0Yy4uLi5cclxuLy8gICAgIH07XHJcblxyXG4vLyAgICAgY29uc3QgZGVzY3JpcHRpb25WYWxpZGF0YWJsZTogVmFsaWRhdGFibGUgPSB7XHJcbi8vICAgICAgIHZhbHVlOiBlbnRlcmVkRGVzY3JpcHRpb24sXHJcbi8vICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4vLyAgICAgICBtaW5MZW5ndGg6IDUsXHJcbi8vICAgICB9O1xyXG5cclxuLy8gICAgIGNvbnN0IHBlb3BsZVZhbGlkYXRhYmxlOiBWYWxpZGF0YWJsZSA9IHtcclxuLy8gICAgICAgdmFsdWU6IGVudGVyZWRQZW9wbGUsXHJcbi8vICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4vLyAgICAgICBtaW46IDEsXHJcbi8vICAgICAgIG1heDogMTAsXHJcbi8vICAgICB9O1xyXG5cclxuLy8gICAgIGlmIChcclxuLy8gICAgICAgIXZhbGlkYXRlKHRpdGxlVmFsaWRhdGFibGUpIHx8XHJcbi8vICAgICAgICF2YWxpZGF0ZShkZXNjcmlwdGlvblZhbGlkYXRhYmxlKSB8fFxyXG4vLyAgICAgICAhdmFsaWRhdGUocGVvcGxlVmFsaWRhdGFibGUpXHJcbi8vICAgICApIHtcclxuLy8gICAgICAgYWxlcnQoJ0ludmFsaWQgaW5wdXQsIHBsZWFzZSB0cnkgYWdhaW4uJyk7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKCdURVNUJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgIHJldHVybiBbZW50ZXJlZFRpdGxlLCBlbnRlcmVkRGVzY3JpcHRpb24sICtlbnRlcmVkUGVvcGxlXTtcclxuLy8gICAgIH1cclxuLy8gICB9XHJcblxyXG4vLyAgIHByaXZhdGUgY2xlYXJJbnB1dHMoKSB7XHJcbi8vICAgICB0aGlzLnRpdGxlSW5wdXRFbGVtZW50LnZhbHVlID0gJyc7XHJcbi8vICAgICB0aGlzLmRlc2NyaXB0aW9uSW5wdXRFbGVtZW50LnZhbHVlID0gJyc7XHJcbi8vICAgICB0aGlzLnBlb3BsZUlucHV0RWxlbWVudC52YWx1ZSA9ICcnO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGNsYXNzIFByb2plY3RJdGVtIGV4dGVuZHMgQ29tcG9uZW50PEhUTUxVTGlzdEVsZW1lbnQsIEhUTUxMSUVsZW1lbnQ+ICAvLy9hdMOpIG5vc3NvcyBwcm9qZWN0SXRlbSB2YW8gdXNhciBhICdiYXNlLWNsYXNzJyBkZSAnQ29tcG9uZW50JyBjb21vIEJBU0UsIHBxIF9fIGVsZXMgdGFtYsOpbSBzw6NvICdwYXJ0ZSBkYSBVSScuLi5cclxuXHJcblxyXG4vLyBpbXBsZW1lbnRzIERyYWdnYWJsZSAgeyAgIFxyXG5cclxuLy8gICBwcml2YXRlIHByb2plY3Q6IFByb2plY3QgLy8vLy90eXBlIGRlICdQcm9qZWN0JywgdHlwZSBRVUUgTsOTUyBNRVNNT1MgQ1LDjUFNT1MuLi5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgIGdldCBwZXJzb25zKCkgeyAvLy9nZXR0ZXIgcGFyYSBSRVRPUk5BUiBVTSBWQUxPUiBGT1JNQVRBRE8gQURFUVVBREFNRU5URSBERSAncGVyc29ucycgKG9uZSBwZXJzb24gYXNzaWduZWQsIHR3byBwZXJzb25zIGFzc2lnbmVkLCBldGMpLi4uLlxyXG5cclxuXHJcbi8vICAgICBpZiAodGhpcy5wcm9qZWN0LnBlb3BsZSA9PT0gMSkge1xyXG5cclxuLy8gICAgICAgcmV0dXJuICdPbmUgUGVyc29uIEFzc2lnbmVkJ1xyXG5cclxuLy8gICAgIH0gZWxzZSB7XHJcblxyXG4vLyAgICAgICByZXR1cm4gYCR7dGhpcy5wcm9qZWN0LnBlb3BsZX0gUGVyc29ucyBBc3NpZ25lZGBcclxuLy8gICAgIH1cclxuXHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgIGNvbnN0cnVjdG9yKGhvc3RJZDogc3RyaW5nLCBwcm9qZWN0OiBQcm9qZWN0ICkge1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgICAgc3VwZXIoLy8vLy8vLy8vLy8vLy8vLyB0ZW1wbGF0ZUlkOiBzdHJpbmcsIGhvc3RFbGVtZW50SWQ6IHN0cmluZywgaW5zZXJ0UG9zaXRpb246IFwiYWZ0ZXJiZWdpblwiIHwgXCJiZWZvcmVlbmRcIiwgbmV3RWxlbWVudElkPzogc3RyaW5nIHwgdW5kZWZpbmVkXHJcblxyXG4vLyAgICAgICAnc2luZ2xlLXByb2plY3QnIC8vL2NoZWNhciAnaW5kZXguaHRtbCcsIG5hIHBhcnRlIGVtIHF1ZSBleGlzdGUgbm9zc28gdGVtcGxhdGUgY29tIGlkIGRlICdzaW5nbGUtcHJvamVjdCcgKHRlbXBsYXRlIHF1ZSDDqSB1bSB0ZW1wbGF0ZSBkZSBBUEVOQVMgMSAnPGxpPicuLi4pXHJcbi8vICAgICAgICxcclxuLy8gICAgICAgaG9zdElkLCAgLy8vL2xvY2FsIGVtIHF1ZSBRVUVSRU1PUyBRVUUgU0VKQSBSRU5ERVJJWkFETyBOT1NTTyAnUFJPSkVDVElURU0nIChlbSBxdWFsIGxpc3QsIHBhcmEgc2VyIG1haXMgZXhhdG8pLi4uLixcclxuLy8gICAgICAgJ2JlZm9yZWVuZCcsIC8vcXVlcmVtb3MgcXVlIG8gZWxlbWVudG8gc2VqYSBwb3NpY2lvbmFkbyBBTyBGSU5BTCBEQSBMSVNULi4uXHJcblxyXG4vLyAgICAgICBwcm9qZWN0LmlkIC8vL3JlcGFzc2UgZGFxdWVsZSBwYXLDom1ldHJvIGFsaSwgbm8gQ09OU1RSVUNUT1IsIHF1ZSByZWNlYmVyZW1vcyBERSBGT1JBLi4uLlxyXG4vLyAgICAgKTtcclxuXHJcblxyXG4vLyAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcclxuXHJcbi8vICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4vLyAgICAgdGhpcy5yZW5kZXJDb250ZW50KCk7XHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vICAgY29uZmlndXJlKCkgeyAvLy9kZWZpbmUgb3MgbGlzdGVuZXJzIHBhcmEgbyBjb21wb3J0YW1lbnRvIGRlICdkcmFnIGFuZCBkcm9wJy4uLlxyXG5cclxuLy8gICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdTdGFydEhhbmRsZXIpOyAvLy8vb2JzOjo6IHBhcmEgYXRpdmFyIE8gRFJBRyBBTkQgRFJPUCwgVk9Dw4ogVEFNQsOJTSBQUkVDSVNBIElSIEzDgSBOTyBJTkRFWC5IVE1MIGUgY29sb2Nhciwgbm8gZWxlbWVudG8gcXVlIGRldmUgc2VyIGRyYWdnYWJsZSwgJ2RyYWdnYWJsZT0gdHJ1ZScgKG5vIGNhc28sIHNlcsOhIG8gZWxlbWVudCAnbGknICkuLi4uXHJcbi8vICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuZHJhZ0VuZEhhbmRsZXIpXHJcblxyXG4vLyAgIH1cclxuXHJcblxyXG5cclxuLy8gICByZW5kZXJDb250ZW50KCkge1xyXG5cclxuLy8gICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCBwZW9wbGUgfSA9IHRoaXMucHJvamVjdDtcclxuXHJcblxyXG4vLyAgICAgY29uc3QgcHJvamVjdEl0ZW1UaXRsZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjdGl0bGUnKSE7XHJcbi8vICAgICBjb25zdCBwcm9qZWN0SXRlbVBlb3BsZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjcGVvcGxlJykhIGFzIEhUTUxFbGVtZW50O1xyXG4vLyAgICAgY29uc3QgcHJvamVjdEl0ZW1EZXNjcmlwdGlvbiA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjZGVzY3JpcHRpb24nKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHJcblxyXG5cclxuLy8gICAgIHByb2plY3RJdGVtVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuLy8gICAgIC8vIHByb2plY3RJdGVtUGVvcGxlLnRleHRDb250ZW50ID0gcGVvcGxlLnRvU3RyaW5nKCk7IC8vLy9zZW0gdXNvIGRlIEdFVFRFUi4uLlxyXG4vLyAgICAgcHJvamVjdEl0ZW1QZW9wbGUudGV4dENvbnRlbnQgPSB0aGlzLnBlcnNvbnM7IC8vL0NPTSB1c28gZGUgR0VUVEVSLi4uXHJcblxyXG4vLyAgICAgY29uc29sZS5sb2cocHJvamVjdEl0ZW1QZW9wbGUudGV4dENvbnRlbnQpO1xyXG4vLyAgICAgcHJvamVjdEl0ZW1EZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG4gICAgXHJcblxyXG4vLyAgIH1cclxuXHJcblxyXG5cclxuXHJcbi8vICAgQEF1dG9iaW5kIC8vLy9jb25zZXJ0YSBvIGNvbXBvcnRhbWVudG8gZGUgJ3RoaXMnIG5vIG5vc3NvIExJU1RFTkVSIGVtICdjb25maWd1cmUoKScuLi4gKGV4YXRhbWVudGUgY29tbyBmaXplbW9zIGNvbSAnc3VibWl0SGFuZGxlcicpLi4uLlxyXG4vLyAgIGRyYWdTdGFydEhhbmRsZXIoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWQgeyAvLy8vaXNzbyBwb3Igc2kgc8OzIG7Do28gdmFpIGZhemVyICdsaXN0ZW4gdG8gYSBkcmFnIGV2ZW50Jy4uLiAtLT4gcHJlY2lzYW1vcyBkbyBtZXRob2QgZGUgJ2NvbmZpZ3VyZSgpJyBwYXJhIGlzc28uLi5cclxuLy8gICAgIGV2ZW50LmRhdGFUcmFuc2ZlciEuc2V0RGF0YSgndGV4dC9wbGFpbicsIHRoaXMucHJvamVjdC5pZCk7IC8vLy9hbmV4YW1vcyBhcGVuYXMgdW1hIFNUUklORyBDT00gVU0gSUQsIGUgbsOjbyBvIG9iamVjdCBlbSBzaSwgcHEgSVNTTyBKw4EgU0VSw4EgU1VGSUNJRU5URSBQQVJBLCBNQUlTIFRBUkRFLCBmZXRjaGVhciBlc3NlIGRldGVybWluYWRvIG9iamVjdCAnUHJvamVjdEl0ZW0nIGzDoSBkbyBzdGF0ZSBkZSBub3NzbyBhcHAgZGUgcHJvamVjdHMuLi4uXHJcbi8vICAgICAgLy9jb20gaXNzbywgYW5leGFtb3MgZGF0YSBBTyBEUkFHRVZFTlQuLi4gKHBhcmEgdXFlIGRlcG9pcyBlc3NhIGRhdGEgU0VKQSBFWFRSQcONREEsIHF1YW5kbyByZWFsaXphcm1vcyBvICdkcm9wIGV2ZW50JyBkZXNzZSBlbGVtZW50KS4uLlxyXG4gICAgXHJcbi8vICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyIS5lZmZlY3RBbGxvd2VkID0gJ21vdmUnOyAgIC8vLy9JU1NPIEJBU0lDQU1FTlRFIF9fIENPTlRST0xBIF9fIENPTU8gTyBDVVJTT1IgREVWRSBTRSBQQVJFQ0VSLCBRVUFMIERFVkUgU0VSIFNVQSBBUEFSw4pOQ0lBIERVUkFOVEUgTyBEUkFHLUFORC1EUk9QXHJcbi8vICAgICAvLy8vLS0+IElTU08gRElaIEFPIEJST1dTRVIgMSBQT1VDTyBERSBOT1NTQVMgSU5URU5DT0VTICggZGl6IHF1ZSBxdWVyZW1vcyBtb3ZlciBvIGN1cnNvciBkZSAnQScgcGFyYSAnQicsIGV0YyBldGMuLi4gKVxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbi8vICAgICAvLyBjb25zb2xlLmxvZyhldmVudCk7IC8vL3PDsyBwYXJhIHZlciBlc3NlIGV2ZW50IGRlICdkcmFnc3RhcnQnLi4uLlxyXG4vLyAgIH1cclxuXHJcblxyXG5cclxuXHJcbi8vICAgQEF1dG9iaW5kXHJcbi8vICAgZHJhZ0VuZEhhbmRsZXIoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWQge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZygnRHJhZ0VuZCcpXHJcbi8vICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyB9XHJcblxyXG5cclxuXHJcbiAgICBcclxuaW1wb3J0IHsgUHJvamVjdElucHV0IH0gZnJvbSBcIi4vY29tcG9uZW50cy9wcm9qZWN0LWlucHV0XCI7XHJcblxyXG5pbXBvcnQgeyBQcm9qZWN0TGlzdCB9IGZyb20gXCIuL2NvbXBvbmVudHMvcHJvamVjdC1saXN0XCI7XHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBwcm9qZWN0SW5wdXQgPSBuZXcgUHJvamVjdElucHV0KCk7IC8vLyDDiSBJU1RPIFFVRSB2YWkgZmF6ZXIgdG9kYSBhIGRpZmVybmXDp2EgKHBxIG7Ds3MgdGVtb3MgJ3RoaXMuYXR0YWNoKCkgKS5cclxuXHJcbmNvbnN0IGFjdGl2ZVByb2plY3RMaXN0ID0gbmV3IFByb2plY3RMaXN0KCdhY3RpdmUnKTsgLy8vL3JlbmRlciBkZSBub3NzYXMgMiBwcm9qZWN0IGxpc3RzLlxyXG5jb25zdCBmaW5pc2hlZFByb2plY3RMaXN0ID0gbmV3IFByb2plY3RMaXN0KCdmaW5pc2hlZCcpO1xyXG5cclxuIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGVJZCIsImhvc3RFbGVtZW50SWQiLCJpbnNlcnRQb3NpdGlvbiIsIm5ld0VsZW1lbnRJZCIsInRoaXMiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaG9zdEVsZW1lbnQiLCJpbXBvcnRlZE5vZGUiLCJpbXBvcnROb2RlIiwiY29udGVudCIsImVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImlkIiwiYXR0YWNoIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiQXV0b2JpbmQiLCJfIiwiXzIiLCJkZXNjcmlwdG9yIiwib3JpZ2luYWxNZXRob2QiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsImdldCIsImJpbmQiLCJ2YWxpZGF0ZSIsInZhbGlkYXRhYmxlSW5wdXQiLCJpc1ZhbGlkIiwicmVxdWlyZWQiLCJ0b1N0cmluZyIsInRyaW0iLCJtaW5MZW5ndGgiLCJsZW5ndGgiLCJtYXhMZW5ndGgiLCJtaW4iLCJtYXgiLCJQcm9qZWN0U3RhdHVzIiwiUHJvamVjdCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwZW9wbGUiLCJwcm9qZWN0U3RhdHVzIiwiUHJvamVjdFN0YXRlIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lckZ1bmN0aW9uIiwicHVzaCIsInN1cGVyIiwicHJvamVjdHMiLCJhZGRQcm9qZWN0IiwibnVtT2ZQZW9wbGUiLCJuZXdQcm9qZWN0IiwiTWF0aCIsInJhbmRvbSIsIkFjdGl2ZSIsInVwZGF0ZUxpc3RlbmVycyIsIm1vdmVQcm9qZWN0IiwicHJvamVjdElkIiwibmV3U3RhdHVzIiwicHJvamVjdFRvTW92ZSIsImZpbmQiLCJwcm9qZWN0Iiwic2xpY2UiLCJzdGF0aWMiLCJpbnN0YW5jZSIsInByb2plY3RTdGF0ZSIsImdldEluc3RhbmNlIiwiUHJvamVjdElucHV0IiwidGl0bGVJbnB1dEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsImRlc2NyaXB0aW9uSW5wdXRFbGVtZW50IiwicGVvcGxlSW5wdXRFbGVtZW50IiwiY29uZmlndXJlIiwicmVuZGVyQ29udGVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdWJtaXRIYW5kbGVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInVzZXJJbnB1dCIsImdhdGhlclVzZXJJbnB1dHMiLCJBcnJheSIsImlzQXJyYXkiLCJkZXNjIiwiY2xlYXJJbnB1dHMiLCJlbnRlcmVkVGl0bGUiLCJlbnRlcmVkRGVzY3JpcHRpb24iLCJlbnRlcmVkUGVvcGxlIiwiZGVzY3JpcHRpb25WYWxpZGF0YWJsZSIsInBlb3BsZVZhbGlkYXRhYmxlIiwiYWxlcnQiLCJQcm9qZWN0SXRlbSIsImhvc3RJZCIsInBlcnNvbnMiLCJkcmFnU3RhcnRIYW5kbGVyIiwiZHJhZ0VuZEhhbmRsZXIiLCJwcm9qZWN0SXRlbVRpdGxlIiwicHJvamVjdEl0ZW1QZW9wbGUiLCJwcm9qZWN0SXRlbURlc2NyaXB0aW9uIiwidGV4dENvbnRlbnQiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiZWZmZWN0QWxsb3dlZCIsIlByb2plY3RMaXN0IiwibGlzdFR5cGUiLCJhc3NpZ25lZFByb2plY3RzIiwicmVuZGVyUHJvamVjdHMiLCJpbm5lckhUTUwiLCJkcmFnT3ZlckhhbmRsZXIiLCJkcmFnTGVhdmVIYW5kbGVyIiwiZHJvcEhhbmRsZXIiLCJyZWxldmFudFByb2plY3RzIiwiZmlsdGVyIiwiRmluaXNoZWQiLCJsaXN0SWQiLCJ0b1VwcGVyQ2FzZSIsInR5cGVzIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2V0RGF0YSIsInJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=